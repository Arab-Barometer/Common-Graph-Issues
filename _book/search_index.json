[["index.html", "Common Arab Barometer Graph Problems and How to (Mostly) Solve Them Chapter 1 About", " Common Arab Barometer Graph Problems and How to (Mostly) Solve Them MaryClare Roche 2023-01-11 Chapter 1 About This guide is meant to help address common problems users run into with the ArabBarometR package. "],["title-issues.html", "Chapter 2 Title &amp; Subtitle Issues 2.1 Title/subtitle is not showing up", " Chapter 2 Title &amp; Subtitle Issues Title and subtitle issues often go hand-in-hand, and the process for solving them is often the same, so both will be addressed here. As shorthand, the guide will use “title” in place of “title and subtitle” unless otherwise explicitly stated. Title is not showing up Title is wrong Title does not fit on graph Title does not display correctly due to language issues Only title or only subtitle is showing up 2.1 Title/subtitle is not showing up There are a few reasons a graph’s title may not appear. In order from most to least likely, it could be: the question number for the summary is wrong; the question number in the titles reference sheet is wrong; the question number does not have a title in the titles reference sheet; the function does not automatically supply a title for the graph; or the default has been changes from .title = TRUE to .title = FALSE. 2.1.1 Wrong Question Number, User Error The first step is to check if you are summarizing the correct question. You may automatically think, ``Of course I’m summarizing the correct question! I’m the one who’s deciding which question to summarize! I’m going to skip this section!’’ Please don’t. This is most often the case when trying to create a comparative plot for the first category of a nominal question. For example, say you want to the percent of the population who said the economic situation was the most pressing issue facing their country across countries. You might type the following: # English calculate_smry_comp(abwave7_eng, &quot;Q2061A&quot;) %&gt;% plot_smry_comp(.caption = &quot;Arab Barometer Wave VII (2021-2022)&quot;, .language = &quot;en&quot;) # Arabic calculate_smry_comp(abwave7_ara, &quot;Q2061A&quot;) %&gt;% plot_smry_comp(.caption = &quot;Arab Barometer Wave VII (2021-2022)&quot;, .language = &quot;ar&quot;) ## Warning in .Primitive(&quot;max&quot;)(): no non-missing arguments to max; returning ## -Inf ## Warning in .Primitive(&quot;min&quot;)(): no non-missing arguments to min; returning ## Inf ## Error in upgradeUnit.default(-Inf): Not a unit object You get a graph and the numbers are correct. What gives? What gives is that Q2061A is a nominal question. The summary functions in the ArabBarometR package only summarize the response values of 1 for nominal questions. You see the correct values because you are comparing the first category. How do you know the type of question you are trying to plot? One rule of thumb is that if the question is not on a scale and has multiple different choices, it’s probably nominal. Another way to tell is to use the handy type_test() function provided by the ArabBarometR package. The only input is a character string of the variable. The function outputs the type that variable is classified as. type_test(&quot;Q2061A&quot;) ## [1] &quot;nominal&quot; Ok, so then why don’t you see a title? You don’t see a title because this is a nominal question and a comparative graph. The titles sheet that ArabBarometR uses to call titles for comparative plots expects all nominal questions to be dummied out. That is, if variable Q999 is a nominal question with N categories, there is a comparative title for Q999_1, Q999_2, … , Q999_N. There is NOT a comparative title for Q999. How to Fix It Now that you know why the title isn’t showing up, you probably have a good idea of how to fix it. Make sure your nominal variable is dummied out. Re-do your code with the correct variable name. The ArabBarometR package provides two useful methods for creating dummies: dummy_all() and dummy_select(). The dummy_all() function will create a dummy variable for every level of the original variable. The dummy_select() function will create a dummy variable for a specific level of the original variable. That is, dummy_all(abwave7,Q999) and dummy_select(abwave7,Q999,.dmy_lvl = 1) will both create the variable Q999_1, but only dummy_all() will create Q999_2 through Q999_N. Below we can see what happens when we correct our code. # English abwave7_eng &lt;- dummy_all(abwave7_eng,Q2061A) calculate_smry_comp(abwave7_eng, &quot;Q2061A_1&quot;) %&gt;% plot_smry_comp(.caption = &quot;Arab Barometer Wave VII (2021-2022)&quot;, .language = &quot;en&quot;) # Arabic abwave7_ara &lt;- dummy_all(abwave7_ara,Q2061A) calculate_smry_comp(abwave7_ara, &quot;Q2061A_1&quot;) %&gt;% plot_smry_comp(.caption = &quot;Arab Barometer Wave VII (2021-2022)&quot;, .language = &quot;ar&quot;) Fixed! 2.1.2 Wrong Question Number, Titles Sheet Errors I &amp; II Ok, so what if you’re not trying to create a comparative plot for a nominal question and there’s still no title? Then it’s time to look at whether there is an issue with the titles sheet. It could be that (1) the question number in the reference sheet is incorrect or (2) there is no title associated with that question number. The first step is to verify that there is no title associated with the question number you are trying to graph, regardless of why there is no title. This can be done using the title_function() and subtitle_function() from the ArabBarometR package. These functions are primarily used internally in the plot_ functions to call up titles and subtitles, but they can also be used on the front-end to verify titles. These functions take four inputs: .title/.subtitle : A title the user wants to use OR a logical value indicating whether a title should be returned automatically; i.e., the title/subtitle is expected to be in the titles sheet. .var : The question number as a character string; e.g., \"Q999\". .language : Either \"English\" or \"Arabic\" depending on the language of the graph. .graph_type : Either \"individual\" or \"comparative\" depending on the type of graph you want to make. You can use these functions to see why no title was provided in the example for section 2.1.1. Before the corrections were made, the plot_smry_comp() function was doing the following internally: # English title_function(TRUE, # Automatically supply the title &quot;Q2061A&quot;, # Look for the title for variable Q2061A &quot;English&quot;, # Provide the English title &quot;comparative&quot;) # For a comparative graph ## character(0) subtitle_function(TRUE, # Automatically supply the subtitle &quot;Q2061A&quot;, # Look for the subtitle for variable Q2061A &quot;English&quot;, # Provide the English subtitle &quot;comparative&quot;) # For a comparative graph ## character(0) # Arabic title_function(TRUE, # Automatically supply the title &quot;Q2061A&quot;, # Look for the title for variable Q2061A &quot;Arabic&quot;, # Provide the Arabic title &quot;comparative&quot;) # For a comparative graph ## character(0) subtitle_function(TRUE, # Automatically supply the subtitle &quot;Q2061A&quot;, # Look for the subtitle for variable Q2061A &quot;Arabic&quot;, # Provide the Arabic subtitle &quot;comparative&quot;) # For a comparative graph ## character(0) The functions return no value because there is no Q2061A in the comparative titles sheet. Once the question number was corrected, the plot_smry_comp() was instead doing the following internally: # English title_function(TRUE, # Automatically supply the title &quot;Q2061A_1&quot;, # Look for the title for variable Q2061A &quot;English&quot;, # Provide the English title &quot;comparative&quot;) # For a comparative graph ## [1] &quot;Most important challenge facing the country&quot; subtitle_function(TRUE, # Automatically supply the subtitle &quot;Q2061A_1&quot;, # Look for the subtitle for variable Q2061A &quot;English&quot;, # Provide the English subtitle &quot;comparative&quot;) # For a comparative graph ## [1] &quot;% saying economic situation&quot; # Arabic title_function(TRUE, # Automatically supply the title &quot;Q2061A_1&quot;, # Look for the title for variable Q2061A &quot;Arabic&quot;, # Provide the Arabic title &quot;comparative&quot;) # For a comparative graph ## [1] &quot;التحدي الأهم الذي يواجه البلد&quot; subtitle_function(TRUE, # Automatically supply the subtitle &quot;Q2061A_1&quot;, # Look for the subtitle for variable Q2061A &quot;Arabic&quot;, # Provide the Arabic subtitle &quot;comparative&quot;) # For a comparative graph ## [1] &quot;من يقولون الوضع الاقتصادي&quot; If you use the functions and don’t get a value, that variable (spelled as-is) does not have a title. This could be for the reason listed above: (1) the variable is incorrectly named in the reference sheet, or (2) the variable is not in the reference sheet. How to Fix It Short Term: For a graph you need immediately, you can supply your own title and subtitle. In every plot_ function, there is a .title and .subtitle parameter that can be used just like the .caption parameter. That is, the user supplies a string for each parameter and those strings become the title and subtitle. Long Term: For a permanent fix, first identify if the title is missing/misspelled from the ArabBarometR package, the latest Google Drive titles sheet, or both. In the package, there are four title data frames: titles_comparative_ar, titles_single_country_ar, titles_comparative_en, and titles_single_country_en. These data frames contain all the Arabic comparative titles, Arabic single country titles, English comparative titles, and English single country titles, respectively. You can use View(dataframe) to look at the data frames. Currently, the location of the titles sheet on Google Drive will likely depend on the Wave.1 The package draws the titles from the sheet on Google Drive. Let the team know you are making updates to the titles sheet on the Google Drive, for which question, why, and when you are finished with the corrections. Once the corrections are done, MC will update the package. 2.1.3 No Automatic Title/Subtitle There are a few functions which do not automatically supply a title. This is common for functions that plot multiple question, as the package cannot anticipate every combination of questions that could be plotted together. This will also happen if you create your own variable to graph. In these cases, the onus is on the user to supply a title. For example, say you wanted to make a comparative graph showing the percent of citizens who say the current economic situation in their country is bad or very bad (Q101, response values 3 and 4). The default settings for this question would produce the opposite: the percent of citizens who say the current economic situation in their country is good or very good. The most straightforward way to create this graph is to create a new variable and plot that. abwave7_eng$bad_economy &lt;- ifelse(abwave7_eng$Q101 %in% 3:4, 1, 0) calculate_smry_comp(abwave7_eng, &quot;bad_economy&quot;, .type = &quot;dichotomous&quot;) %&gt;% plot_smry_comp(.caption = &quot;Arab Barometer Wave VII (2021-2022)&quot;, .language = &quot;en&quot;) Essentially, inside the plot_smry_comp() function, the functions title_function() and subtitle_function() are once again returning nothing, since the variable “bad_economy” is not in the title data frames. How to Fix It In this case, you must supply your own title. This is a feature that will remain constant. It is unreasonable to expect the package to predict exactly what kind of custom graphs you will produce. Just remember to include a title! abwave7_eng$bad_economy &lt;- ifelse(abwave7_eng$Q101 %in% 3:4, 1, 0) calculate_smry_comp(abwave7_eng, &quot;bad_economy&quot;, .type = &quot;dichotomous&quot;) %&gt;% plot_smry_comp(.title = &quot;How is the economy doing in your country?&quot;, .subtitle = &quot;% saying bad or very bad&quot;, .caption = &quot;Arab Barometer Wave VII (2021-2022)&quot;, .language = &quot;en&quot;) 2.1.4 Default Change Finally, it could be that the default setting for supplying a title has changed. By default, every plot_ function for which a title can be automatically supplied2, does automatically supply a title. Although it is extremely unlikely, it could be that the ArabBarometR default changed so plot_ functions no longer supply a title. If this is the case, a warning has certainly gone out that this change is coming/has come and a note has been made in the record of ArabBarometR versioning. To check the default setting of a function, view that function’s help page. You can do this by typing ?function_name() in your R console. On the help page, look for what the .title parameter is set to. If you see .title = F or .title = FALSE, the default has changed so the function no longer automatically supplies the title. ?plot_smry_comp It could also be that perhaps you turned off the default to check something else when debugging and forgot to switch it back. In this case, you would have explicitly set the .title parameter to FALSE. # English calculate_smry_comp(abwave7_eng, &quot;Q2061A_1&quot;) %&gt;% plot_smry_comp(.title = FALSE, .subtitle = F, .caption = &quot;Arab Barometer Wave VII (2021-2022)&quot;, .language = &quot;en&quot;) How to Fix It Set the .title and/or .subtitle parameter to TRUE or T. # English calculate_smry_comp(abwave7_eng, &quot;Q2061A_1&quot;) %&gt;% plot_smry_comp(.title = FALSE, .subtitle = T, .caption = &quot;Arab Barometer Wave VII (2021-2022)&quot;, .language = &quot;en&quot;) Hopefully in the future there will be one master titles sheet we add to each Wave as necessary.↩︎ See section 2.1.3 for why not every function can supply a title.↩︎ "],["arabic-issues-package.html", "Chapter 3 Arabic Issues - Package", " Chapter 3 Arabic Issues - Package It is a well-documented fact that R (and computers in general), are racist. This leads to many, many issues in the creation of Arabic graphs. Worse, issues are often OS-specific. This chapter reviews issues and solutions you may run into when using the plot_ functions provided by the AarbBarometR package to create a graph in Arabic. Chapter 4 reviews how to “translate” a graph from English to Arabic, emphasizing common points at which you may run into trouble. "],["arabic-translation.html", "Chapter 4 Translating Arabic Plots 4.1 English Code 4.2 Arabic Code", " Chapter 4 Translating Arabic Plots This chapter reviews how to “translate” custom English plots to custom Arabic plots, and emphasizes points at which you may run into trouble. It is unreasonable to try to predict all custom plots, but regardless of the exact type of plot, there are certain consistencies we can still review. If you are having an issue with creating an Arabic plot with one of the plot_ functions from the ArabBarometR package, please see Chapter 3. For this chapter, we are going to create a dumbbell plot showing the change in views regarding women in politics overtime. This graph cannot be created with the ArabBarometR package. It must be created “by hand”. The graph will first be created in English, then translated into Arabic3. This is NOT meant to be a guide or reference for creating dumbbell plots. The goal is to highlight necessary changes when translating a graph from English to Arabic. Therefore, the section demonstrating the code for an English graph will have minimal instruction. The English code simply serves as a reference for the Arabic section. Furthermore, since this is a demonstration graph and is not being used in production, we do not need to discuss the merits of design choices here. There are a number of different ways to visualize this data, but that is not the point of this chapter. The point of this chapter is to see how English graphs can be translated into Arabic. 4.1 English Code 4.1.1 Create a Data Frame The first step for any plot is to create the data frame you wish to plot. Since we are comparing data from the first two waves to wave seven, we need to load and subset the trend data. trend_data_ENG &lt;- haven::read_dta(&quot;path/to/trend/data&quot;) all_waves_ENG &lt;- trend_data_ENG %&gt;% split(f = .$WAVE) Now we have a list of data frames according to wave, stored in the variable all_waves_ENG. The next step is to calculate the summary of Q601_3 by country for each wave. We can do that using the calculate_smry_comp() function from the ArabBarometR package. wave7_Q6013 &lt;- abwave7_eng %&gt;% calculate_smry_comp(&quot;Q601_3&quot;) %&gt;% mutate(Wave = &quot;VII&quot;) %&gt;% mutate(Country = as.character(Country)) wave1_Q6013 &lt;- all_waves_ENG$`1` %&gt;% calculate_smry_comp(&quot;Q601_3&quot;) %&gt;% mutate(Wave = &quot;I&quot;) %&gt;% mutate(Country = as.character(Country)) wave2_Q6013 &lt;- all_waves_ENG$`2` %&gt;% calculate_smry_comp(&quot;Q601_3&quot;) %&gt;% mutate(Wave = &quot;II&quot;) %&gt;% mutate(Country = as.character(Country)) Currently, there is no way to distinguish which summaries belong to which wave. Every data frame has one column names Country and one column named Q601_3. Let’s add a distinguishing column. Also, to save ourselves a headache later, let’s convert Country from a labelled double to a character. wave7_Q6013 &lt;- wave7_Q6013 %&gt;% mutate(Wave = &quot;VII&quot;, Country = as.character(Country)) wave1_Q6013 &lt;- wave1_Q6013 %&gt;% mutate(Wave = &quot;I&quot;, Country = as.character(Country)) wave2_Q6013 &lt;- wave2_Q6013 %&gt;% mutate(Wave = &quot;II&quot;, Country = as.character(Country)) Some countries were surveyed both in Wave I and Wave II. We only want to compare the earliest point at which the country is surveyed to the latest point at which the country was surveyed. Thus, we filter out countries from Wave II which appeared in Wave I. early_waves &lt;- rbind(wave1_Q6013, wave2_Q6013) %&gt;% group_by(Country) %&gt;% slice(1) %&gt;% ungroup() Now, we know some countries were surveyed in Wave VII that were not surveyed in Waves I or II. Similarly, some countries were surveyed in Waves I or II but not in Wave VII. We cannot compare the responses from Wave VII to Wave I or II if the country was not surveyed, so we need to limit our summaries to countries which were surveys in Wave VII and Wave I or II. countries &lt;- intersect(wave7_Q6013$Country, early_waves$Country) wave7_Q6013 &lt;- wave7_Q6013 %&gt;% filter(Country %in% countries) early_waves &lt;- early_waves %&gt;% filter(Country %in% countries) The (nearly) last step is to combine the early_waves data frame and the wave7_Q6013 data frame, and re-order the columns (why we want to re-order the columns will become clear in a moment). Q6013_trend &lt;- rbind(wave7_Q6013, early_waves) %&gt;% relocate(Wave, .before = Q601_3) With this data frame, we can use the plot_demographic_smry_comp() function from the ArabBarometR package. The order of the columns matters for this function. The plot_demographic_smry_comp() function expects output in the same form the calculate_demographic_smry_comp() function outputs. That is, the columns from left to right should be a country column, a demographic column, and a percent column. That is the order of Q6013_trend, so we can plug it into plot_demographic_smry_comp(). plot_demographic_smry_comp(Q6013_trend, .caption = &quot;Arab Barometer Waves I, II, VII&quot;, .language = &quot;en&quot;) But this chapter is not for plot_ functions from the ArabBarometR package, so let’s continue. Before creating the dumbbell plot for Q6013_trend, let’s do one more calculation that will allow us to include arrows pointing in the direction of opinion change over the years. Q6013_trend &lt;- Q6013_trend %&gt;% tidyr::pivot_wider(names_from = &quot;Wave&quot;, values_from = &quot;Q601_3&quot;) %&gt;% mutate(one2seven = abs(VII - I)/2 + pmin(VII,I), two2seven = abs(VII - II)/2 + pmin(VII,II), midpoint = coalesce(one2seven,two2seven)) %&gt;% select(!c(one2seven,two2seven)) %&gt;% tidyr::pivot_longer(cols = c(VII,II,I), names_to = &quot;Wave&quot;, values_to = &quot;Q601_3&quot;) %&gt;% filter(!is.na(Q601_3)) Now, we are ready to create our dumbbell plot. 4.1.2 Plot the Data Frame There will not be a detailed explanation of what each line of the code does to plot the data. The point of this chapter is not to explain how to create dumbbell plots. The point is to re-create a custom English plot in Arabic. # Data Frame: Q6013_trend %&gt;% # ggplot base ggplot(aes(x = Q601_3, y = reorder(Country,Q601_3))) + # ggplot line for connecting the points geom_line(aes(group = Country), color = &quot;#545454&quot;) + # ggplot arrow pointing in the direction of change geom_segment(data = ~subset(.x, Wave == &quot;I&quot;|Wave == &quot;II&quot;), aes( x = midpoint, xend = midpoint + .5 * sign(midpoint - Q601_3), yend = Country), arrow = arrow(angle = 30, length = unit(.1, &quot;inches&quot;), type = &quot;closed&quot;), color = &quot;#545454&quot;) + # ggplot points geom_point(aes(color = Wave), size = 8) + # setting the colors of the points scale_color_manual(values = c(&quot;#0098BE&quot;,&quot;#7CBBC7&quot;,&quot;#DF6E21&quot;))+ # adding the percent value to the points geom_text(aes(label = ifelse(Q601_3 == 0, &quot;&lt;1&quot;, Q601_3), family = &#39;Montserrat&#39;), color = &quot;white&quot;, fontface = &quot;bold&quot;, size = 4, position = position_dodge(width = 1)) + # showing the whole scale from 0 to 100 scale_x_continuous(limits = c(0,100)) + # adding a title and subtitle labs( title = stringr::str_wrap( title_function(TRUE, &quot;Q601_3&quot;, &quot;English&quot;, &quot;comparative&quot;), 50), subtitle = subtitle_function(TRUE, &quot;Q601_3&quot;, &quot;English&quot;, &quot;comparative&quot;), caption = &quot;Arab Barometer Wave I, II, VII&quot; ) + # using the Arab Barometer branded theme theme_ab_english() 4.2 Arabic Code Again, the first step is to create the data frame we want to plot, this time with the Arabic data. 4.2.1 Create a Data Frame trend_data_ARA &lt;- haven::read_dta(&quot;path/to/trend/data&quot;) all_waves_ARA &lt;- trend_data_ARA %&gt;% split(f = .$WAVE) Since the process for creating the data frame is the same, regardless of language, all of it is presented here succinctly. wave7_Q6013 &lt;- abwave7_ara %&gt;% calculate_smry_comp(&quot;Q601_3&quot;) %&gt;% mutate(Wave = &quot;VII&quot;) %&gt;% mutate(Country = as.character(Country)) wave1_Q6013 &lt;- all_waves_ARA$`1` %&gt;% calculate_smry_comp(&quot;Q601_3&quot;) %&gt;% mutate(Wave = &quot;I&quot;) %&gt;% mutate(Country = as.character(Country)) wave2_Q6013 &lt;- all_waves_ARA$`2` %&gt;% calculate_smry_comp(&quot;Q601_3&quot;) %&gt;% mutate(Wave = &quot;II&quot;) %&gt;% mutate(Country = as.character(Country)) early_waves &lt;- rbind(wave1_Q6013, wave2_Q6013) %&gt;% group_by(Country) %&gt;% slice(1) %&gt;% ungroup() countries &lt;- intersect(wave7_Q6013$Country, early_waves$Country) wave7_Q6013 &lt;- wave7_Q6013 %&gt;% filter(Country %in% countries) early_waves &lt;- early_waves %&gt;% filter(Country %in% countries) Q6013_trend &lt;- rbind(wave7_Q6013, early_waves) %&gt;% relocate(Wave, .before = Q601_3) %&gt;% tidyr::pivot_wider(names_from = &quot;Wave&quot;, values_from = &quot;Q601_3&quot;) %&gt;% mutate(one2seven = abs(VII - I)/2 + pmin(VII,I), two2seven = abs(VII - II)/2 + pmin(VII,II), midpoint = coalesce(one2seven,two2seven)) %&gt;% select(!c(one2seven,two2seven)) %&gt;% tidyr::pivot_longer(cols = c(VII,II,I), names_to = &quot;Wave&quot;, values_to = &quot;Q601_3&quot;) %&gt;% filter(!is.na(Q601_3)) Now for plotting. 4.2.2 Plot the Data Frame Unlike creating the data frame, you cannot simply plug the Arabic data frame in for the English data frame and call it a day. The code below is exactly the code from creating the English graph, only the Arabic data frame is being piped in. The code chunk is numbered. When referencing lines of code, this is the code chunk being referred to. # Data Frame: Q6013_trend %&gt;% # ggplot base ggplot(aes(x = Q601_3, y = reorder(Country,Q601_3))) + # ggplot line for connecting the points geom_line(aes(group = Country), color = &quot;#545454&quot;) + # ggplot arrow pointing in the direction of change geom_segment(data = ~subset(.x, Wave == &quot;I&quot;|Wave == &quot;II&quot;), aes( x = midpoint, xend = midpoint + .5 * sign(midpoint - Q601_3), yend = Country), arrow = arrow(angle = 30, length = unit(.1, &quot;inches&quot;), type = &quot;closed&quot;), color = &quot;#545454&quot;) + # ggplot points geom_point(aes(color = Wave), size = 8) + # setting the colors of the points scale_color_manual(values = c(&quot;#0098BE&quot;,&quot;#7CBBC7&quot;,&quot;#DF6E21&quot;))+ # adding the percent value to the points geom_text(aes(label = ifelse(Q601_3 == 0, &quot;&lt;1&quot;, Q601_3), family = &#39;Montserrat&#39;), color = &quot;white&quot;, fontface = &quot;bold&quot;, size = 4, position = position_dodge(width = 1)) + # showing the whole scale from 0 to 100 scale_x_continuous(limits = c(0,100)) + # adding a title and subtitle labs( title = stringr::str_wrap( title_function(TRUE, &quot;Q601_3&quot;, &quot;English&quot;, &quot;comparative&quot;), 50), subtitle = subtitle_function(TRUE, &quot;Q601_3&quot;, &quot;English&quot;, &quot;comparative&quot;), caption = &quot;Arab Barometer Wave I, II, VII&quot; ) + # using the Arab Barometer branded theme theme_ab_english() English to Arabic Text There are several obvious issues with the graph. Most blatantly, the title, subtitle, and caption are in English. This is changed by changing lines 40 - 50. # English Titles title = stringr::str_wrap( title_function(TRUE, &quot;Q601_3&quot;, &quot;English&quot;, &quot;comparative&quot;), 50), subtitle = subtitle_function(TRUE, &quot;Q601_3&quot;, &quot;English&quot;, &quot;comparative&quot;), caption = &quot;Arab Barometer Wave I, II, VII&quot; # Arabic Titles title = stringr::str_wrap( title_function(TRUE, &quot;Q601_3&quot;, &quot;Arabic&quot;, &quot;comparative&quot;), 60), subtitle = subtitle_function(TRUE, &quot;Q601_3&quot;, &quot;Arabic&quot;, &quot;comparative&quot;), caption = &quot;الباروميتر العربي&quot; Of course, this is only if you want to use a “pre-made” title. If you are coming up with your own title, you do not have to use the title and subtitle functions. # Arabic Titles title = stringr::str_wrap( &quot;الرجال أفضل في تولي القيادة السياسية من النساء&quot;, 50), subtitle = &quot;% من يقولون أتفق بشدة أو أتفق مع هذه العبارة&quot;, caption = &quot;الباروميتر العربي&quot; Right to Left Arabic graphs are read right to left, so the x- and y-axis labels must be reflected. To change the direction of the x-axis, we must change line 36. # English x-axis scale_x_continuous(limits = c(0,100)) # Arabic x-axis scale_x_reverse(limits = c(100,0)) To change the y-axis labels, we need to add a line. # Arabic y-axis scale_y_discrete(position = &quot;right&quot;) Point Labels A subtle change in English to Arabic graphs it the font. The AB brand font for English is Montserrat, and the brand font for Arabic is Tajawal. While the font for the text is controlled by the theme (discussed in the following section), the labels on the graph are separate. The code defining the labels on the graph is found on lines 28-33. # English geom_text(aes(label = ifelse(Q601_3 == 0, &quot;&lt;1&quot;, Q601_3), family = &#39;Montserrat&#39;), color = &quot;white&quot;, fontface = &quot;bold&quot;, size = 4, position = position_dodge(width = 1)) # Arabic geom_text(aes(label = ifelse(Q601_3 == 0, &quot;1&gt;&quot;, Q601_3), family = &#39;Tajawal&#39;), color = &quot;white&quot;, fontface = &quot;bold&quot;, size = 4, position = position_dodge(width = 1)) Aside from changing the font, the direction of the “less than” sign is also changed. 4.2.2.1 Arabic Theme Finally, the ArabBarometR package provides separate ggplot themes for English and Arabic graphs. The theme controls the font, size, and placement of title elements. See line 54. # English theme_ab_english() ## List of 94 ## $ line :List of 6 ## ..$ colour : chr &quot;black&quot; ## ..$ linewidth : num 0.5 ## ..$ linetype : num 1 ## ..$ lineend : chr &quot;butt&quot; ## ..$ arrow : logi FALSE ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_line&quot; &quot;element&quot; ## $ rect :List of 5 ## ..$ fill : chr &quot;white&quot; ## ..$ colour : chr &quot;black&quot; ## ..$ linewidth : num 0.5 ## ..$ linetype : num 1 ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_rect&quot; &quot;element&quot; ## $ text :List of 11 ## ..$ family : chr &quot;&quot; ## ..$ face : chr &quot;plain&quot; ## ..$ colour : chr &quot;black&quot; ## ..$ size : num 11 ## ..$ hjust : num 0.5 ## ..$ vjust : num 0.5 ## ..$ angle : num 0 ## ..$ lineheight : num 0.9 ## ..$ margin : &#39;margin&#39; num [1:4] 0points 0points 0points 0points ## .. ..- attr(*, &quot;unit&quot;)= int 8 ## ..$ debug : logi FALSE ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ title : NULL ## $ aspect.ratio : NULL ## $ axis.title : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ axis.title.x :List of 11 ## ..$ family : NULL ## ..$ face : NULL ## ..$ colour : NULL ## ..$ size : NULL ## ..$ hjust : NULL ## ..$ vjust : num 1 ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : &#39;margin&#39; num [1:4] 2.75points 0points 0points 0points ## .. ..- attr(*, &quot;unit&quot;)= int 8 ## ..$ debug : NULL ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ axis.title.x.top :List of 11 ## ..$ family : NULL ## ..$ face : NULL ## ..$ colour : NULL ## ..$ size : NULL ## ..$ hjust : NULL ## ..$ vjust : num 0 ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : &#39;margin&#39; num [1:4] 0points 0points 2.75points 0points ## .. ..- attr(*, &quot;unit&quot;)= int 8 ## ..$ debug : NULL ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ axis.title.x.bottom : NULL ## $ axis.title.y :List of 11 ## ..$ family : NULL ## ..$ face : NULL ## ..$ colour : NULL ## ..$ size : NULL ## ..$ hjust : NULL ## ..$ vjust : num 1 ## ..$ angle : num 90 ## ..$ lineheight : NULL ## ..$ margin : &#39;margin&#39; num [1:4] 0points 2.75points 0points 0points ## .. ..- attr(*, &quot;unit&quot;)= int 8 ## ..$ debug : NULL ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ axis.title.y.left : NULL ## $ axis.title.y.right :List of 11 ## ..$ family : NULL ## ..$ face : NULL ## ..$ colour : NULL ## ..$ size : NULL ## ..$ hjust : NULL ## ..$ vjust : num 0 ## ..$ angle : num -90 ## ..$ lineheight : NULL ## ..$ margin : &#39;margin&#39; num [1:4] 0points 0points 0points 2.75points ## .. ..- attr(*, &quot;unit&quot;)= int 8 ## ..$ debug : NULL ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ axis.text :List of 11 ## ..$ family : chr &quot;Montserrat&quot; ## ..$ face : NULL ## ..$ colour : Named chr &quot;#545454&quot; ## .. ..- attr(*, &quot;names&quot;)= chr &quot;text grey&quot; ## ..$ size : num 18 ## ..$ hjust : NULL ## ..$ vjust : NULL ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : NULL ## ..$ debug : NULL ## ..$ inherit.blank: logi FALSE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ axis.text.x :List of 11 ## ..$ family : NULL ## ..$ face : NULL ## ..$ colour : NULL ## ..$ size : NULL ## ..$ hjust : NULL ## ..$ vjust : NULL ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : &#39;margin&#39; num [1:4] 5points 0points 10points 0points ## .. ..- attr(*, &quot;unit&quot;)= int 8 ## ..$ debug : NULL ## ..$ inherit.blank: logi FALSE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ axis.text.x.top :List of 11 ## ..$ family : NULL ## ..$ face : NULL ## ..$ colour : NULL ## ..$ size : NULL ## ..$ hjust : NULL ## ..$ vjust : num 0 ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : &#39;margin&#39; num [1:4] 0points 0points 2.2points 0points ## .. ..- attr(*, &quot;unit&quot;)= int 8 ## ..$ debug : NULL ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ axis.text.x.bottom : NULL ## $ axis.text.y :List of 11 ## ..$ family : NULL ## ..$ face : NULL ## ..$ colour : NULL ## ..$ size : NULL ## ..$ hjust : num 1 ## ..$ vjust : NULL ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : &#39;margin&#39; num [1:4] 0points 2.2points 0points 0points ## .. ..- attr(*, &quot;unit&quot;)= int 8 ## ..$ debug : NULL ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ axis.text.y.left : NULL ## $ axis.text.y.right :List of 11 ## ..$ family : NULL ## ..$ face : NULL ## ..$ colour : NULL ## ..$ size : NULL ## ..$ hjust : num 0 ## ..$ vjust : NULL ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : &#39;margin&#39; num [1:4] 0points 0points 0points 2.2points ## .. ..- attr(*, &quot;unit&quot;)= int 8 ## ..$ debug : NULL ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ axis.ticks : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ axis.ticks.x : NULL ## $ axis.ticks.x.top : NULL ## $ axis.ticks.x.bottom : NULL ## $ axis.ticks.y : NULL ## $ axis.ticks.y.left : NULL ## $ axis.ticks.y.right : NULL ## $ axis.ticks.length : &#39;simpleUnit&#39; num 2.75points ## ..- attr(*, &quot;unit&quot;)= int 8 ## $ axis.ticks.length.x : NULL ## $ axis.ticks.length.x.top : NULL ## $ axis.ticks.length.x.bottom: NULL ## $ axis.ticks.length.y : NULL ## $ axis.ticks.length.y.left : NULL ## $ axis.ticks.length.y.right : NULL ## $ axis.line : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ axis.line.x : NULL ## $ axis.line.x.top : NULL ## $ axis.line.x.bottom : NULL ## $ axis.line.y : NULL ## $ axis.line.y.left : NULL ## $ axis.line.y.right : NULL ## $ legend.background : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ legend.margin : &#39;margin&#39; num [1:4] 5.5points 5.5points 5.5points 5.5points ## ..- attr(*, &quot;unit&quot;)= int 8 ## $ legend.spacing : &#39;simpleUnit&#39; num 11points ## ..- attr(*, &quot;unit&quot;)= int 8 ## $ legend.spacing.x : NULL ## $ legend.spacing.y : NULL ## $ legend.key : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ legend.key.size : &#39;simpleUnit&#39; num 1.2lines ## ..- attr(*, &quot;unit&quot;)= int 3 ## $ legend.key.height : NULL ## $ legend.key.width : NULL ## $ legend.text :List of 11 ## ..$ family : chr &quot;Montserrat&quot; ## ..$ face : NULL ## ..$ colour : Named chr &quot;#545454&quot; ## .. ..- attr(*, &quot;names&quot;)= chr &quot;text grey&quot; ## ..$ size : num 20 ## ..$ hjust : NULL ## ..$ vjust : NULL ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : NULL ## ..$ debug : NULL ## ..$ inherit.blank: logi FALSE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ legend.text.align : NULL ## $ legend.title : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ legend.title.align : NULL ## $ legend.position : chr &quot;top&quot; ## $ legend.direction : chr &quot;horizontal&quot; ## $ legend.justification : chr &quot;center&quot; ## $ legend.box : NULL ## $ legend.box.just : NULL ## $ legend.box.margin : &#39;margin&#39; num [1:4] 0cm 0cm 0cm 0cm ## ..- attr(*, &quot;unit&quot;)= int 1 ## $ legend.box.background : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ legend.box.spacing : &#39;simpleUnit&#39; num 11points ## ..- attr(*, &quot;unit&quot;)= int 8 ## $ panel.background : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ panel.border : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ panel.spacing : &#39;simpleUnit&#39; num 3lines ## ..- attr(*, &quot;unit&quot;)= int 3 ## $ panel.spacing.x : NULL ## $ panel.spacing.y : NULL ## $ panel.grid :List of 6 ## ..$ colour : chr &quot;grey92&quot; ## ..$ linewidth : NULL ## ..$ linetype : NULL ## ..$ lineend : NULL ## ..$ arrow : logi FALSE ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_line&quot; &quot;element&quot; ## $ panel.grid.major : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ panel.grid.minor : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ panel.grid.major.x : NULL ## $ panel.grid.major.y : NULL ## $ panel.grid.minor.x : NULL ## $ panel.grid.minor.y : NULL ## $ panel.ontop : logi FALSE ## $ plot.background :List of 5 ## ..$ fill : chr &quot;white&quot; ## ..$ colour : chr &quot;white&quot; ## ..$ linewidth : NULL ## ..$ linetype : NULL ## ..$ inherit.blank: logi FALSE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_rect&quot; &quot;element&quot; ## $ plot.title :List of 11 ## ..$ family : chr &quot;Montserrat&quot; ## ..$ face : chr &quot;bold&quot; ## ..$ colour : Named chr &quot;#545454&quot; ## .. ..- attr(*, &quot;names&quot;)= chr &quot;text grey&quot; ## ..$ size : num 22 ## ..$ hjust : num 0.5 ## ..$ vjust : num 1 ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : NULL ## ..$ debug : NULL ## ..$ inherit.blank: logi FALSE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ plot.title.position : chr &quot;panel&quot; ## $ plot.subtitle :List of 11 ## ..$ family : chr &quot;Montserrat&quot; ## ..$ face : chr &quot;italic&quot; ## ..$ colour : Named chr &quot;#545454&quot; ## .. ..- attr(*, &quot;names&quot;)= chr &quot;text grey&quot; ## ..$ size : num 20 ## ..$ hjust : num 0.5 ## ..$ vjust : num 1 ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : NULL ## ..$ debug : NULL ## ..$ inherit.blank: logi FALSE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ plot.caption :List of 11 ## ..$ family : chr &quot;Montserrat&quot; ## ..$ face : NULL ## ..$ colour : Named chr &quot;#545454&quot; ## .. ..- attr(*, &quot;names&quot;)= chr &quot;text grey&quot; ## ..$ size : num 16 ## ..$ hjust : num 1 ## ..$ vjust : num -1 ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : NULL ## ..$ debug : NULL ## ..$ inherit.blank: logi FALSE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ plot.caption.position : chr &quot;panel&quot; ## $ plot.tag :List of 11 ## ..$ family : NULL ## ..$ face : NULL ## ..$ colour : NULL ## ..$ size : &#39;rel&#39; num 1.2 ## ..$ hjust : num 0.5 ## ..$ vjust : num 0.5 ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : NULL ## ..$ debug : NULL ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ plot.tag.position : chr &quot;topleft&quot; ## $ plot.margin : &#39;simpleUnit&#39; num [1:4] 2cm 2cm 2cm 2cm ## ..- attr(*, &quot;unit&quot;)= int 1 ## $ strip.background : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ strip.background.x : NULL ## $ strip.background.y : NULL ## $ strip.clip : chr &quot;inherit&quot; ## $ strip.placement : chr &quot;inside&quot; ## $ strip.text :List of 11 ## ..$ family : NULL ## ..$ face : NULL ## ..$ colour : chr &quot;grey10&quot; ## ..$ size : &#39;rel&#39; num 0.8 ## ..$ hjust : NULL ## ..$ vjust : NULL ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : &#39;margin&#39; num [1:4] 4.4points 4.4points 4.4points 4.4points ## .. ..- attr(*, &quot;unit&quot;)= int 8 ## ..$ debug : NULL ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ strip.text.x :List of 11 ## ..$ family : chr &quot;Montserrat&quot; ## ..$ face : chr &quot;bold&quot; ## ..$ colour : chr &quot;#545454&quot; ## ..$ size : num 16 ## ..$ hjust : NULL ## ..$ vjust : NULL ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : NULL ## ..$ debug : NULL ## ..$ inherit.blank: logi FALSE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ strip.text.y :List of 11 ## ..$ family : chr &quot;Montserrat&quot; ## ..$ face : chr &quot;bold&quot; ## ..$ colour : chr &quot;#545454&quot; ## ..$ size : num 16 ## ..$ hjust : NULL ## ..$ vjust : NULL ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : NULL ## ..$ debug : NULL ## ..$ inherit.blank: logi FALSE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ strip.switch.pad.grid : &#39;simpleUnit&#39; num 2.75points ## ..- attr(*, &quot;unit&quot;)= int 8 ## $ strip.switch.pad.wrap : &#39;simpleUnit&#39; num 2.75points ## ..- attr(*, &quot;unit&quot;)= int 8 ## $ strip.text.y.left :List of 11 ## ..$ family : NULL ## ..$ face : NULL ## ..$ colour : NULL ## ..$ size : NULL ## ..$ hjust : NULL ## ..$ vjust : NULL ## ..$ angle : num 90 ## ..$ lineheight : NULL ## ..$ margin : NULL ## ..$ debug : NULL ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## - attr(*, &quot;class&quot;)= chr [1:2] &quot;theme&quot; &quot;gg&quot; ## - attr(*, &quot;complete&quot;)= logi TRUE ## - attr(*, &quot;validate&quot;)= logi TRUE # Arabic theme_ab_arabic() ## List of 94 ## $ line :List of 6 ## ..$ colour : chr &quot;black&quot; ## ..$ linewidth : num 0.5 ## ..$ linetype : num 1 ## ..$ lineend : chr &quot;butt&quot; ## ..$ arrow : logi FALSE ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_line&quot; &quot;element&quot; ## $ rect :List of 5 ## ..$ fill : chr &quot;white&quot; ## ..$ colour : chr &quot;black&quot; ## ..$ linewidth : num 0.5 ## ..$ linetype : num 1 ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_rect&quot; &quot;element&quot; ## $ text :List of 11 ## ..$ family : chr &quot;&quot; ## ..$ face : chr &quot;plain&quot; ## ..$ colour : chr &quot;black&quot; ## ..$ size : num 11 ## ..$ hjust : num 0.5 ## ..$ vjust : num 0.5 ## ..$ angle : num 0 ## ..$ lineheight : num 0.9 ## ..$ margin : &#39;margin&#39; num [1:4] 0points 0points 0points 0points ## .. ..- attr(*, &quot;unit&quot;)= int 8 ## ..$ debug : logi FALSE ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ title : NULL ## $ aspect.ratio : NULL ## $ axis.title : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ axis.title.x :List of 11 ## ..$ family : NULL ## ..$ face : NULL ## ..$ colour : NULL ## ..$ size : NULL ## ..$ hjust : NULL ## ..$ vjust : num 1 ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : &#39;margin&#39; num [1:4] 2.75points 0points 0points 0points ## .. ..- attr(*, &quot;unit&quot;)= int 8 ## ..$ debug : NULL ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ axis.title.x.top :List of 11 ## ..$ family : NULL ## ..$ face : NULL ## ..$ colour : NULL ## ..$ size : NULL ## ..$ hjust : NULL ## ..$ vjust : num 0 ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : &#39;margin&#39; num [1:4] 0points 0points 2.75points 0points ## .. ..- attr(*, &quot;unit&quot;)= int 8 ## ..$ debug : NULL ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ axis.title.x.bottom : NULL ## $ axis.title.y :List of 11 ## ..$ family : NULL ## ..$ face : NULL ## ..$ colour : NULL ## ..$ size : NULL ## ..$ hjust : NULL ## ..$ vjust : num 1 ## ..$ angle : num 90 ## ..$ lineheight : NULL ## ..$ margin : &#39;margin&#39; num [1:4] 0points 2.75points 0points 0points ## .. ..- attr(*, &quot;unit&quot;)= int 8 ## ..$ debug : NULL ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ axis.title.y.left : NULL ## $ axis.title.y.right :List of 11 ## ..$ family : NULL ## ..$ face : NULL ## ..$ colour : NULL ## ..$ size : NULL ## ..$ hjust : NULL ## ..$ vjust : num 0 ## ..$ angle : num -90 ## ..$ lineheight : NULL ## ..$ margin : &#39;margin&#39; num [1:4] 0points 0points 0points 2.75points ## .. ..- attr(*, &quot;unit&quot;)= int 8 ## ..$ debug : NULL ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ axis.text :List of 22 ## ..$ family : chr &quot;Tajawal&quot; ## ..$ face : NULL ## ..$ size : num 18 ## ..$ colour : Named chr &quot;#545454&quot; ## .. ..- attr(*, &quot;names&quot;)= chr &quot;text grey&quot; ## ..$ fill : NULL ## ..$ box.colour : NULL ## ..$ linetype : NULL ## ..$ linewidth : NULL ## ..$ hjust : NULL ## ..$ vjust : NULL ## ..$ halign : NULL ## ..$ valign : NULL ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : NULL ## ..$ padding : NULL ## ..$ r : NULL ## ..$ align_widths : NULL ## ..$ align_heights : NULL ## ..$ rotate_margins: NULL ## ..$ debug : logi FALSE ## ..$ inherit.blank : logi FALSE ## ..- attr(*, &quot;class&quot;)= chr [1:3] &quot;element_markdown&quot; &quot;element_text&quot; &quot;element&quot; ## $ axis.text.x :List of 22 ## ..$ family : NULL ## ..$ face : NULL ## ..$ size : NULL ## ..$ colour : NULL ## ..$ fill : NULL ## ..$ box.colour : NULL ## ..$ linetype : NULL ## ..$ linewidth : NULL ## ..$ hjust : NULL ## ..$ vjust : NULL ## ..$ halign : NULL ## ..$ valign : NULL ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : &#39;margin&#39; num [1:4] 5points 0points 10points 0points ## .. ..- attr(*, &quot;unit&quot;)= int 8 ## ..$ padding : NULL ## ..$ r : NULL ## ..$ align_widths : NULL ## ..$ align_heights : NULL ## ..$ rotate_margins: NULL ## ..$ debug : logi FALSE ## ..$ inherit.blank : logi FALSE ## ..- attr(*, &quot;class&quot;)= chr [1:3] &quot;element_markdown&quot; &quot;element_text&quot; &quot;element&quot; ## $ axis.text.x.top :List of 11 ## ..$ family : NULL ## ..$ face : NULL ## ..$ colour : NULL ## ..$ size : NULL ## ..$ hjust : NULL ## ..$ vjust : num 0 ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : &#39;margin&#39; num [1:4] 0points 0points 2.2points 0points ## .. ..- attr(*, &quot;unit&quot;)= int 8 ## ..$ debug : NULL ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ axis.text.x.bottom : NULL ## $ axis.text.y :List of 11 ## ..$ family : NULL ## ..$ face : NULL ## ..$ colour : NULL ## ..$ size : NULL ## ..$ hjust : num 1 ## ..$ vjust : NULL ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : &#39;margin&#39; num [1:4] 0points 2.2points 0points 0points ## .. ..- attr(*, &quot;unit&quot;)= int 8 ## ..$ debug : NULL ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ axis.text.y.left : NULL ## $ axis.text.y.right :List of 11 ## ..$ family : NULL ## ..$ face : NULL ## ..$ colour : NULL ## ..$ size : NULL ## ..$ hjust : num 0 ## ..$ vjust : NULL ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : &#39;margin&#39; num [1:4] 0points 0points 0points 2.2points ## .. ..- attr(*, &quot;unit&quot;)= int 8 ## ..$ debug : NULL ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ axis.ticks : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ axis.ticks.x : NULL ## $ axis.ticks.x.top : NULL ## $ axis.ticks.x.bottom : NULL ## $ axis.ticks.y : NULL ## $ axis.ticks.y.left : NULL ## $ axis.ticks.y.right : NULL ## $ axis.ticks.length : &#39;simpleUnit&#39; num 2.75points ## ..- attr(*, &quot;unit&quot;)= int 8 ## $ axis.ticks.length.x : NULL ## $ axis.ticks.length.x.top : NULL ## $ axis.ticks.length.x.bottom: NULL ## $ axis.ticks.length.y : NULL ## $ axis.ticks.length.y.left : NULL ## $ axis.ticks.length.y.right : NULL ## $ axis.line : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ axis.line.x : NULL ## $ axis.line.x.top : NULL ## $ axis.line.x.bottom : NULL ## $ axis.line.y : NULL ## $ axis.line.y.left : NULL ## $ axis.line.y.right : NULL ## $ legend.background : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ legend.margin : &#39;margin&#39; num [1:4] 5.5points 5.5points 5.5points 5.5points ## ..- attr(*, &quot;unit&quot;)= int 8 ## $ legend.spacing : &#39;simpleUnit&#39; num 11points ## ..- attr(*, &quot;unit&quot;)= int 8 ## $ legend.spacing.x : NULL ## $ legend.spacing.y : NULL ## $ legend.key : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ legend.key.size : &#39;simpleUnit&#39; num 1.2lines ## ..- attr(*, &quot;unit&quot;)= int 3 ## $ legend.key.height : NULL ## $ legend.key.width : NULL ## $ legend.text :List of 22 ## ..$ family : chr &quot;Tajawal&quot; ## ..$ face : NULL ## ..$ size : num 20 ## ..$ colour : Named chr &quot;#545454&quot; ## .. ..- attr(*, &quot;names&quot;)= chr &quot;text grey&quot; ## ..$ fill : NULL ## ..$ box.colour : NULL ## ..$ linetype : NULL ## ..$ linewidth : NULL ## ..$ hjust : NULL ## ..$ vjust : NULL ## ..$ halign : NULL ## ..$ valign : NULL ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : NULL ## ..$ padding : NULL ## ..$ r : NULL ## ..$ align_widths : NULL ## ..$ align_heights : NULL ## ..$ rotate_margins: NULL ## ..$ debug : logi FALSE ## ..$ inherit.blank : logi FALSE ## ..- attr(*, &quot;class&quot;)= chr [1:3] &quot;element_markdown&quot; &quot;element_text&quot; &quot;element&quot; ## $ legend.text.align : NULL ## $ legend.title : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ legend.title.align : NULL ## $ legend.position : chr &quot;top&quot; ## $ legend.direction : chr &quot;horizontal&quot; ## $ legend.justification : chr &quot;center&quot; ## $ legend.box : NULL ## $ legend.box.just : NULL ## $ legend.box.margin : &#39;margin&#39; num [1:4] 0cm 0cm 0cm 0cm ## ..- attr(*, &quot;unit&quot;)= int 1 ## $ legend.box.background : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ legend.box.spacing : &#39;simpleUnit&#39; num 11points ## ..- attr(*, &quot;unit&quot;)= int 8 ## $ panel.background : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ panel.border : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ panel.spacing : &#39;simpleUnit&#39; num 3lines ## ..- attr(*, &quot;unit&quot;)= int 3 ## $ panel.spacing.x : NULL ## $ panel.spacing.y : NULL ## $ panel.grid :List of 6 ## ..$ colour : chr &quot;grey92&quot; ## ..$ linewidth : NULL ## ..$ linetype : NULL ## ..$ lineend : NULL ## ..$ arrow : logi FALSE ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_line&quot; &quot;element&quot; ## $ panel.grid.major : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ panel.grid.minor : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ panel.grid.major.x : NULL ## $ panel.grid.major.y : NULL ## $ panel.grid.minor.x : NULL ## $ panel.grid.minor.y : NULL ## $ panel.ontop : logi FALSE ## $ plot.background :List of 5 ## ..$ fill : chr &quot;white&quot; ## ..$ colour : chr &quot;white&quot; ## ..$ linewidth : NULL ## ..$ linetype : NULL ## ..$ inherit.blank: logi FALSE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_rect&quot; &quot;element&quot; ## $ plot.title :List of 22 ## ..$ family : chr &quot;Tajawal&quot; ## ..$ face : chr &quot;bold&quot; ## ..$ size : num 22 ## ..$ colour : Named chr &quot;#545454&quot; ## .. ..- attr(*, &quot;names&quot;)= chr &quot;text grey&quot; ## ..$ fill : NULL ## ..$ box.colour : NULL ## ..$ linetype : NULL ## ..$ linewidth : NULL ## ..$ hjust : num 0.5 ## ..$ vjust : num 1 ## ..$ halign : NULL ## ..$ valign : NULL ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : NULL ## ..$ padding : NULL ## ..$ r : NULL ## ..$ align_widths : NULL ## ..$ align_heights : NULL ## ..$ rotate_margins: NULL ## ..$ debug : logi FALSE ## ..$ inherit.blank : logi FALSE ## ..- attr(*, &quot;class&quot;)= chr [1:3] &quot;element_markdown&quot; &quot;element_text&quot; &quot;element&quot; ## $ plot.title.position : chr &quot;panel&quot; ## $ plot.subtitle :List of 22 ## ..$ family : chr &quot;Tajawal&quot; ## ..$ face : NULL ## ..$ size : num 20 ## ..$ colour : Named chr &quot;#545454&quot; ## .. ..- attr(*, &quot;names&quot;)= chr &quot;text grey&quot; ## ..$ fill : NULL ## ..$ box.colour : NULL ## ..$ linetype : NULL ## ..$ linewidth : NULL ## ..$ hjust : num 0.5 ## ..$ vjust : num 1 ## ..$ halign : NULL ## ..$ valign : NULL ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : NULL ## ..$ padding : NULL ## ..$ r : NULL ## ..$ align_widths : NULL ## ..$ align_heights : NULL ## ..$ rotate_margins: NULL ## ..$ debug : logi FALSE ## ..$ inherit.blank : logi FALSE ## ..- attr(*, &quot;class&quot;)= chr [1:3] &quot;element_markdown&quot; &quot;element_text&quot; &quot;element&quot; ## $ plot.caption :List of 22 ## ..$ family : chr &quot;Tajawal&quot; ## ..$ face : NULL ## ..$ size : num 16 ## ..$ colour : Named chr &quot;#545454&quot; ## .. ..- attr(*, &quot;names&quot;)= chr &quot;text grey&quot; ## ..$ fill : NULL ## ..$ box.colour : NULL ## ..$ linetype : NULL ## ..$ linewidth : NULL ## ..$ hjust : num 0 ## ..$ vjust : num 1 ## ..$ halign : NULL ## ..$ valign : NULL ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : NULL ## ..$ padding : NULL ## ..$ r : NULL ## ..$ align_widths : NULL ## ..$ align_heights : NULL ## ..$ rotate_margins: NULL ## ..$ debug : logi FALSE ## ..$ inherit.blank : logi FALSE ## ..- attr(*, &quot;class&quot;)= chr [1:3] &quot;element_markdown&quot; &quot;element_text&quot; &quot;element&quot; ## $ plot.caption.position : chr &quot;panel&quot; ## $ plot.tag :List of 11 ## ..$ family : NULL ## ..$ face : NULL ## ..$ colour : NULL ## ..$ size : &#39;rel&#39; num 1.2 ## ..$ hjust : num 0.5 ## ..$ vjust : num 0.5 ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : NULL ## ..$ debug : NULL ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ plot.tag.position : chr &quot;topleft&quot; ## $ plot.margin : &#39;simpleUnit&#39; num [1:4] 2cm 2cm 2cm 2cm ## ..- attr(*, &quot;unit&quot;)= int 1 ## $ strip.background : list() ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_blank&quot; &quot;element&quot; ## $ strip.background.x : NULL ## $ strip.background.y : NULL ## $ strip.clip : chr &quot;inherit&quot; ## $ strip.placement : chr &quot;inside&quot; ## $ strip.text :List of 11 ## ..$ family : NULL ## ..$ face : NULL ## ..$ colour : chr &quot;grey10&quot; ## ..$ size : &#39;rel&#39; num 0.8 ## ..$ hjust : NULL ## ..$ vjust : NULL ## ..$ angle : NULL ## ..$ lineheight : NULL ## ..$ margin : &#39;margin&#39; num [1:4] 4.4points 4.4points 4.4points 4.4points ## .. ..- attr(*, &quot;unit&quot;)= int 8 ## ..$ debug : NULL ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ strip.text.x : NULL ## $ strip.text.y :List of 11 ## ..$ family : NULL ## ..$ face : NULL ## ..$ colour : NULL ## ..$ size : NULL ## ..$ hjust : NULL ## ..$ vjust : NULL ## ..$ angle : num -90 ## ..$ lineheight : NULL ## ..$ margin : NULL ## ..$ debug : NULL ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## $ strip.switch.pad.grid : &#39;simpleUnit&#39; num 2.75points ## ..- attr(*, &quot;unit&quot;)= int 8 ## $ strip.switch.pad.wrap : &#39;simpleUnit&#39; num 2.75points ## ..- attr(*, &quot;unit&quot;)= int 8 ## $ strip.text.y.left :List of 11 ## ..$ family : NULL ## ..$ face : NULL ## ..$ colour : NULL ## ..$ size : NULL ## ..$ hjust : NULL ## ..$ vjust : NULL ## ..$ angle : num 90 ## ..$ lineheight : NULL ## ..$ margin : NULL ## ..$ debug : NULL ## ..$ inherit.blank: logi TRUE ## ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;element_text&quot; &quot;element&quot; ## - attr(*, &quot;class&quot;)= chr [1:2] &quot;theme&quot; &quot;gg&quot; ## - attr(*, &quot;complete&quot;)= logi TRUE ## - attr(*, &quot;validate&quot;)= logi TRUE With that, we can translate the graph. 4.2.3 Translated Graph Q6013_trend %&gt;% # ggplot base ggplot(aes(x = Q601_3, y = reorder(Country,Q601_3))) + # ggplot line for connecting the points geom_line(aes(group = Country), color = &quot;#545454&quot;) + # ggplot arrow pointing in the direction of change geom_segment(data = ~subset(.x, Wave == &quot;I&quot;|Wave == &quot;II&quot;), aes( x = midpoint, xend = midpoint + .5 * sign(midpoint - Q601_3), yend = Country), arrow = arrow(angle = 30, length = unit(.1, &quot;inches&quot;), type = &quot;closed&quot;), color = &quot;#545454&quot;) + # ggplot points geom_point(aes(color = Wave), size = 8) + # setting the colors of the points scale_color_manual(values = c(&quot;#0098BE&quot;,&quot;#7CBBC7&quot;,&quot;#DF6E21&quot;))+ # adding the percent value to the points geom_text(aes(label = ifelse(Q601_3 == 0, &quot;1&gt;&quot;, Q601_3), family = &#39;Tajawal&#39;), color = &quot;white&quot;, fontface = &quot;bold&quot;, size = 4, position = position_dodge(width = 1)) + # showing the whole scale from 0 to 100 scale_x_reverse(limits = c(100,0)) + scale_y_discrete(position = &quot;right&quot;) + # adding a title and subtitle labs( title = stringr::str_wrap( arabic_title, 60), subtitle = arabic_subtitle, caption = &quot;الباروميتر العربي&quot; ) + theme_ab_arabic() knitr::include_graphics(&quot;Translated_Arabic_Graph.png&quot;) A note on English graph prioritization: Creating graphs in English first (and English being the default in the ArabBarometR package) is useful because the proof-of-concept should address the easiest case first. Arabic graphs are trickier than English graphs. If we cannot create the graph in English, it is unlikely we will be able to create the graph in Arabic. This should not be seen as a preference for English graphs at Arab Barometer, rather as a consequence of R’s fundamental catering towards Western European culture.↩︎ "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
