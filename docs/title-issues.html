<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 1 Title &amp; Subtitle Issues | Common Arab Barometer Graph Problems and How to (Mostly) Solve Them</title>
  <meta name="description" content="This is a reference for issues that commonly occur when using the ArabBarometR package, or creating graphs for Arab Barometer in general." />
  <meta name="generator" content="bookdown 0.30 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 1 Title &amp; Subtitle Issues | Common Arab Barometer Graph Problems and How to (Mostly) Solve Them" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a reference for issues that commonly occur when using the ArabBarometR package, or creating graphs for Arab Barometer in general." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 Title &amp; Subtitle Issues | Common Arab Barometer Graph Problems and How to (Mostly) Solve Them" />
  
  <meta name="twitter:description" content="This is a reference for issues that commonly occur when using the ArabBarometR package, or creating graphs for Arab Barometer in general." />
  

<meta name="author" content="MaryClare Roche" />


<meta name="date" content="2023-01-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="arabic-issues-package.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Common Graph Issues</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="1" data-path="title-issues.html"><a href="title-issues.html"><i class="fa fa-check"></i><b>1</b> Title &amp; Subtitle Issues</a>
<ul>
<li class="chapter" data-level="1.1" data-path="title-issues.html"><a href="title-issues.html#no-title"><i class="fa fa-check"></i><b>1.1</b> Title/subtitle is not showing up</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="title-issues.html"><a href="title-issues.html#wrong-numb-user"><i class="fa fa-check"></i><b>1.1.1</b> Wrong Question Number, User Error</a></li>
<li class="chapter" data-level="1.1.2" data-path="title-issues.html"><a href="title-issues.html#wrong-num-titlesheet"><i class="fa fa-check"></i><b>1.1.2</b> Wrong Question Number, Titles Sheet Errors I &amp; II</a></li>
<li class="chapter" data-level="1.1.3" data-path="title-issues.html"><a href="title-issues.html#no-auto-title"><i class="fa fa-check"></i><b>1.1.3</b> No Automatic Title/Subtitle</a></li>
<li class="chapter" data-level="1.1.4" data-path="title-issues.html"><a href="title-issues.html#default-change"><i class="fa fa-check"></i><b>1.1.4</b> Default Change</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="title-issues.html"><a href="title-issues.html#wrong-title"><i class="fa fa-check"></i><b>1.2</b> Title/Subtitle is Wrong</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="arabic-issues-package.html"><a href="arabic-issues-package.html"><i class="fa fa-check"></i><b>2</b> Arabic Issues - Package</a></li>
<li class="chapter" data-level="3" data-path="arabic-translation.html"><a href="arabic-translation.html"><i class="fa fa-check"></i><b>3</b> Translating Arabic Plots</a>
<ul>
<li class="chapter" data-level="3.1" data-path="arabic-translation.html"><a href="arabic-translation.html#english-code"><i class="fa fa-check"></i><b>3.1</b> English Code</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="arabic-translation.html"><a href="arabic-translation.html#create-a-data-frame"><i class="fa fa-check"></i><b>3.1.1</b> Create a Data Frame</a></li>
<li class="chapter" data-level="3.1.2" data-path="arabic-translation.html"><a href="arabic-translation.html#plot-the-data-frame"><i class="fa fa-check"></i><b>3.1.2</b> Plot the Data Frame</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="arabic-translation.html"><a href="arabic-translation.html#arabic-code"><i class="fa fa-check"></i><b>3.2</b> Arabic Code</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="arabic-translation.html"><a href="arabic-translation.html#create-a-data-frame-1"><i class="fa fa-check"></i><b>3.2.1</b> Create a Data Frame</a></li>
<li class="chapter" data-level="3.2.2" data-path="arabic-translation.html"><a href="arabic-translation.html#plot-the-data-frame-1"><i class="fa fa-check"></i><b>3.2.2</b> Plot the Data Frame</a></li>
<li class="chapter" data-level="3.2.3" data-path="arabic-translation.html"><a href="arabic-translation.html#translated-graph"><i class="fa fa-check"></i><b>3.2.3</b> Translated Graph</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Common Arab Barometer Graph Problems and How to (Mostly) Solve Them</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="title-issues" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">Chapter 1</span> Title &amp; Subtitle Issues<a href="title-issues.html#title-issues" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Title and subtitle issues often go hand-in-hand, and the process for solving them is often the same, so both will be addressed here. As shorthand, the guide will use “title” in place of “title and subtitle” unless otherwise explicitly stated.</p>
<ul>
<li><a href="title-issues.html#no-title">Title is not showing up</a></li>
<li><a href="title-issues.html#wrong-title">Title is wrong</a></li>
<li>Title does not fit on graph</li>
<li>Title does not display correctly due to language issues</li>
<li>Only title or only subtitle is showing up</li>
</ul>
<div id="no-title" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> Title/subtitle is not showing up<a href="title-issues.html#no-title" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>There are a few reasons a graph’s title may not appear. In order from most to least likely, it could be:</p>
<ul>
<li><a href="title-issues.html#wrong-numb-user">the question number for the summary is wrong</a>;</li>
<li><a href="title-issues.html#wrong-num-titlesheet">the question number in the titles reference sheet is wrong</a>;</li>
<li><a href="title-issues.html#wrong-num-titlesheet">the question number does not have a title in the titles reference sheet</a>;</li>
<li><a href="title-issues.html#no-auto-title">the function does not automatically supply a title for the graph</a>; or</li>
<li><a href="title-issues.html#default-change">the default has been changes from <code>.title = TRUE</code> to <code>.title = FALSE</code></a>.</li>
</ul>
<div id="wrong-numb-user" class="section level3 hasAnchor" number="1.1.1">
<h3><span class="header-section-number">1.1.1</span> Wrong Question Number, User Error<a href="title-issues.html#wrong-numb-user" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The first step is to check if you are summarizing the correct question. You may automatically think, <em>``Of course I’m summarizing the correct question! I’m the one who’s deciding which question to summarize! I’m going to skip this section!’’</em></p>
<p>Please don’t.</p>
<p>This is most often the case when trying to create a comparative plot for the first category of a nominal question. For example, say you want to the percent of the population who said the economic situation was the most pressing issue facing their country across countries. You might type the following:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="title-issues.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># English</span></span>
<span id="cb1-2"><a href="title-issues.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">calculate_smry_comp</span>(abwave7_eng,</span>
<span id="cb1-3"><a href="title-issues.html#cb1-3" aria-hidden="true" tabindex="-1"></a>                    <span class="st">&quot;Q2061A&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-4"><a href="title-issues.html#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_smry_comp</span>(<span class="at">.caption =</span> <span class="st">&quot;Arab Barometer Wave VII (2021-2022)&quot;</span>,</span>
<span id="cb1-5"><a href="title-issues.html#cb1-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">.language =</span> <span class="st">&quot;en&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/no-title-1-1.png" width="1248" /></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="title-issues.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Arabic</span></span>
<span id="cb2-2"><a href="title-issues.html#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">calculate_smry_comp</span>(abwave7_ara,</span>
<span id="cb2-3"><a href="title-issues.html#cb2-3" aria-hidden="true" tabindex="-1"></a>                    <span class="st">&quot;Q2061A&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-4"><a href="title-issues.html#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_smry_comp</span>(<span class="at">.caption =</span> <span class="st">&quot;Arab Barometer Wave VII (2021-2022)&quot;</span>,</span>
<span id="cb2-5"><a href="title-issues.html#cb2-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">.language =</span> <span class="st">&quot;ar&quot;</span>)</span></code></pre></div>
<pre><code>## Warning in .Primitive(&quot;max&quot;)(): no non-missing arguments to max;
## returning -Inf</code></pre>
<pre><code>## Warning in .Primitive(&quot;min&quot;)(): no non-missing arguments to min;
## returning Inf</code></pre>
<pre><code>## Error in upgradeUnit.default(-Inf): Not a unit object</code></pre>
<p>You get a graph and the numbers are correct. What gives?</p>
<p>What gives is that <code>Q2061A</code> is a <strong>nominal question</strong>. The summary functions in the <code>ArabBarometR</code> package only summarize the response values of <code>1</code> for nominal questions. You see the correct values because you are comparing the first category.</p>
<p>How do you know the type of question you are trying to plot? One rule of thumb is that if the question is not on a scale and has multiple different choices, it’s probably nominal. Another way to tell is to use the handy <code>type_test()</code> function provided by the <code>ArabBarometR</code> package. The only input is a character string of the variable. The function outputs the type that variable is classified as.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="title-issues.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">type_test</span>(<span class="st">&quot;Q2061A&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;nominal&quot;</code></pre>
<p>Ok, so then why don’t you see a title? You don’t see a title because this is a nominal question <em>and</em> a comparative graph. The titles sheet that <code>ArabBarometR</code> uses to call titles for <strong>comparative</strong> plots expects all nominal questions to be dummied out. That is, if variable <code>Q999</code> is a nominal question with <code>N</code> categories, there is a comparative title for <code>Q999_1</code>, <code>Q999_2</code>, … , <code>Q999_N</code>. There is NOT a comparative title for <code>Q999</code>.</p>
<p><strong>How to Fix It</strong> Now that you know why the title isn’t showing up, you probably have a good idea of how to fix it.</p>
<ol style="list-style-type: decimal">
<li>Make sure your nominal variable is dummied out.</li>
<li>Re-do your code with the correct variable name.</li>
</ol>
<p>The <code>ArabBarometR</code> package provides two useful methods for creating dummies: <code>dummy_all()</code> and <code>dummy_select()</code>. The <code>dummy_all()</code> function will create a dummy variable for every level of the original variable. The <code>dummy_select()</code> function will create a dummy variable for a specific level of the original variable. That is, <code>dummy_all(abwave7,Q999)</code> and <code>dummy_select(abwave7,Q999,.dmy_lvl = 1)</code> will both create the variable <code>Q999_1</code>, but only <code>dummy_all()</code> will create <code>Q999_2</code> through <code>Q999_N</code>.</p>
<p>Below we can see what happens when we correct our code.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="title-issues.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># English</span></span>
<span id="cb8-2"><a href="title-issues.html#cb8-2" aria-hidden="true" tabindex="-1"></a>abwave7_eng <span class="ot">&lt;-</span> <span class="fu">dummy_all</span>(abwave7_eng,Q2061A)</span>
<span id="cb8-3"><a href="title-issues.html#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="title-issues.html#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="fu">calculate_smry_comp</span>(abwave7_eng,</span>
<span id="cb8-5"><a href="title-issues.html#cb8-5" aria-hidden="true" tabindex="-1"></a>                    <span class="st">&quot;Q2061A_1&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-6"><a href="title-issues.html#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_smry_comp</span>(<span class="at">.caption =</span> <span class="st">&quot;Arab Barometer Wave VII (2021-2022)&quot;</span>,</span>
<span id="cb8-7"><a href="title-issues.html#cb8-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">.language =</span> <span class="st">&quot;en&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/no-title-3-1.png" width="1248" /></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="title-issues.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Arabic</span></span>
<span id="cb9-2"><a href="title-issues.html#cb9-2" aria-hidden="true" tabindex="-1"></a>abwave7_ara <span class="ot">&lt;-</span> <span class="fu">dummy_all</span>(abwave7_ara,Q2061A)</span>
<span id="cb9-3"><a href="title-issues.html#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="title-issues.html#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="fu">calculate_smry_comp</span>(abwave7_ara,</span>
<span id="cb9-5"><a href="title-issues.html#cb9-5" aria-hidden="true" tabindex="-1"></a>                    <span class="st">&quot;Q2061A_1&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-6"><a href="title-issues.html#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_smry_comp</span>(<span class="at">.caption =</span> <span class="st">&quot;Arab Barometer Wave VII (2021-2022)&quot;</span>,</span>
<span id="cb9-7"><a href="title-issues.html#cb9-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">.language =</span> <span class="st">&quot;ar&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/no-title-3-2.png" width="1248" /></p>
<p>Fixed!</p>
</div>
<div id="wrong-num-titlesheet" class="section level3 hasAnchor" number="1.1.2">
<h3><span class="header-section-number">1.1.2</span> Wrong Question Number, Titles Sheet Errors I &amp; II<a href="title-issues.html#wrong-num-titlesheet" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Ok, so what if you’re not trying to create a comparative plot for a nominal question and there’s still no title? Then it’s time to look at whether there is an issue with the titles sheet. It could be that (1) the question number in the reference sheet is incorrect or (2) there is no title associated with that question number.</p>
<p>The first step is to verify that there is no title associated with the question number you are trying to graph, regardless of <em>why</em> there is no title. This can be done using the <code>title_function()</code> and <code>subtitle_function()</code> from the <code>ArabBarometR</code> package. These functions are primarily used internally in the <code>plot_</code> functions to call up titles and subtitles, but they can also be used on the front-end to verify titles.</p>
<p>These functions take four inputs:</p>
<ol style="list-style-type: decimal">
<li><code>.title</code>/<code>.subtitle</code> : A title the user wants to use OR a logical value indicating whether a title should be returned automatically; i.e., the title/subtitle is expected to be in the titles sheet.</li>
<li><code>.var</code> : The question number as a character string; e.g., <code>"Q999"</code>.</li>
<li><code>.language</code> : Either <code>"English"</code> or <code>"Arabic"</code> depending on the language of the graph.</li>
<li><code>.graph_type</code> : Either <code>"individual"</code> or <code>"comparative"</code> depending on the type of graph you want to make.</li>
</ol>
<p>You can use these functions to see why no title was provided in the example for section <a href="title-issues.html#wrong-numb-user">1.1.1</a>. Before the corrections were made, the <code>plot_smry_comp()</code> function was doing the following internally:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="title-issues.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># English</span></span>
<span id="cb10-2"><a href="title-issues.html#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">title_function</span>(<span class="cn">TRUE</span>,             <span class="co"># Automatically supply the title</span></span>
<span id="cb10-3"><a href="title-issues.html#cb10-3" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;Q2061A&quot;</span>,         <span class="co"># Look for the title for variable Q2061A</span></span>
<span id="cb10-4"><a href="title-issues.html#cb10-4" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;English&quot;</span>,        <span class="co"># Provide the English title</span></span>
<span id="cb10-5"><a href="title-issues.html#cb10-5" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;comparative&quot;</span>)    <span class="co"># For a comparative graph</span></span></code></pre></div>
<pre><code>## character(0)</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="title-issues.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subtitle_function</span>(<span class="cn">TRUE</span>,             <span class="co"># Automatically supply the subtitle</span></span>
<span id="cb12-2"><a href="title-issues.html#cb12-2" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;Q2061A&quot;</span>,         <span class="co"># Look for the subtitle for variable Q2061A</span></span>
<span id="cb12-3"><a href="title-issues.html#cb12-3" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;English&quot;</span>,        <span class="co"># Provide the English subtitle</span></span>
<span id="cb12-4"><a href="title-issues.html#cb12-4" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;comparative&quot;</span>)    <span class="co"># For a comparative graph</span></span></code></pre></div>
<pre><code>## character(0)</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="title-issues.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Arabic</span></span>
<span id="cb14-2"><a href="title-issues.html#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">title_function</span>(<span class="cn">TRUE</span>,             <span class="co"># Automatically supply the title</span></span>
<span id="cb14-3"><a href="title-issues.html#cb14-3" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;Q2061A&quot;</span>,         <span class="co"># Look for the title for variable Q2061A</span></span>
<span id="cb14-4"><a href="title-issues.html#cb14-4" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;Arabic&quot;</span>,         <span class="co"># Provide the Arabic title</span></span>
<span id="cb14-5"><a href="title-issues.html#cb14-5" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;comparative&quot;</span>)    <span class="co"># For a comparative graph</span></span></code></pre></div>
<pre><code>## character(0)</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="title-issues.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subtitle_function</span>(<span class="cn">TRUE</span>,             <span class="co"># Automatically supply the subtitle</span></span>
<span id="cb16-2"><a href="title-issues.html#cb16-2" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;Q2061A&quot;</span>,         <span class="co"># Look for the subtitle for variable Q2061A</span></span>
<span id="cb16-3"><a href="title-issues.html#cb16-3" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;Arabic&quot;</span>,         <span class="co"># Provide the Arabic subtitle</span></span>
<span id="cb16-4"><a href="title-issues.html#cb16-4" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;comparative&quot;</span>)    <span class="co"># For a comparative graph</span></span></code></pre></div>
<pre><code>## character(0)</code></pre>
<p>The functions return no value because there is no <code>Q2061A</code> in the comparative titles sheet. Once the question number was corrected, the <code>plot_smry_comp()</code> was instead doing the following internally:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="title-issues.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># English</span></span>
<span id="cb18-2"><a href="title-issues.html#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">title_function</span>(<span class="cn">TRUE</span>,             <span class="co"># Automatically supply the title</span></span>
<span id="cb18-3"><a href="title-issues.html#cb18-3" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;Q2061A_1&quot;</span>,       <span class="co"># Look for the title for variable Q2061A</span></span>
<span id="cb18-4"><a href="title-issues.html#cb18-4" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;English&quot;</span>,        <span class="co"># Provide the English title</span></span>
<span id="cb18-5"><a href="title-issues.html#cb18-5" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;comparative&quot;</span>)    <span class="co"># For a comparative graph</span></span></code></pre></div>
<pre><code>## [1] &quot;Most important challenge facing the country&quot;</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="title-issues.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subtitle_function</span>(<span class="cn">TRUE</span>,             <span class="co"># Automatically supply the subtitle</span></span>
<span id="cb20-2"><a href="title-issues.html#cb20-2" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;Q2061A_1&quot;</span>,       <span class="co"># Look for the subtitle for variable Q2061A</span></span>
<span id="cb20-3"><a href="title-issues.html#cb20-3" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;English&quot;</span>,        <span class="co"># Provide the English subtitle</span></span>
<span id="cb20-4"><a href="title-issues.html#cb20-4" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;comparative&quot;</span>)    <span class="co"># For a comparative graph</span></span></code></pre></div>
<pre><code>## [1] &quot;% saying economic situation&quot;</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="title-issues.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Arabic</span></span>
<span id="cb22-2"><a href="title-issues.html#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">title_function</span>(<span class="cn">TRUE</span>,             <span class="co"># Automatically supply the title</span></span>
<span id="cb22-3"><a href="title-issues.html#cb22-3" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;Q2061A_1&quot;</span>,       <span class="co"># Look for the title for variable Q2061A</span></span>
<span id="cb22-4"><a href="title-issues.html#cb22-4" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;Arabic&quot;</span>,         <span class="co"># Provide the Arabic title</span></span>
<span id="cb22-5"><a href="title-issues.html#cb22-5" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;comparative&quot;</span>)    <span class="co"># For a comparative graph</span></span></code></pre></div>
<pre><code>## [1] &quot;التحدي الأهم الذي يواجه البلد&quot;</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="title-issues.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subtitle_function</span>(<span class="cn">TRUE</span>,             <span class="co"># Automatically supply the subtitle</span></span>
<span id="cb24-2"><a href="title-issues.html#cb24-2" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;Q2061A_1&quot;</span>,       <span class="co"># Look for the subtitle for variable Q2061A</span></span>
<span id="cb24-3"><a href="title-issues.html#cb24-3" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;Arabic&quot;</span>,         <span class="co"># Provide the Arabic subtitle</span></span>
<span id="cb24-4"><a href="title-issues.html#cb24-4" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;comparative&quot;</span>)    <span class="co"># For a comparative graph</span></span></code></pre></div>
<pre><code>## [1] &quot;من يقولون الوضع الاقتصادي&quot;</code></pre>
<p>If you use the functions and don’t get a value, that variable (spelled as-is) does not have a title. This could be for the reason listed above: (1) the variable is incorrectly named in the reference sheet, or (2) the variable is not in the reference sheet.</p>
<p><strong>How to Fix It</strong></p>
<p><em>Short Term</em>: For a graph you need immediately, you can supply your own title and subtitle. In every <code>plot_</code> function, there is a <code>.title</code> and <code>.subtitle</code> parameter that can be used just like the <code>.caption</code> parameter. That is, the user supplies a string for each parameter and those strings become the title and subtitle.</p>
<p><em>Long Term</em>: For a permanent fix, first identify if the title is missing/misspelled from the <code>ArabBarometR</code> package, the latest Google Drive titles sheet, or both.</p>
<p>In the package, there are four title data frames: <code>titles_comparative_ar</code>, <code>titles_single_country_ar</code>, <code>titles_comparative_en</code>, and <code>titles_single_country_en</code>. These data frames contain all the Arabic comparative titles, Arabic single country titles, English comparative titles, and English single country titles, respectively. You can use <code>View(dataframe)</code> to look at the data frames.</p>
<p>Currently, the location of the titles sheet on Google Drive will likely depend on the Wave.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<p>The package draws the titles from the sheet on Google Drive. Let the team know you are making updates to the titles sheet on the Google Drive, for which question, why, and when you are finished with the corrections. Once the corrections are done, MC will update the package.</p>
</div>
<div id="no-auto-title" class="section level3 hasAnchor" number="1.1.3">
<h3><span class="header-section-number">1.1.3</span> No Automatic Title/Subtitle<a href="title-issues.html#no-auto-title" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There are a few functions which do not automatically supply a title. This is common for functions that plot multiple question, as the package cannot anticipate every combination of questions that could be plotted together. This will also happen if you create your own variable to graph. In these cases, the onus is on the user to supply a title.</p>
<p>For example, say you wanted to make a comparative graph showing the percent of citizens who say the current economic situation in their country is bad or very bad (<code>Q101</code>, response values 3 and 4). The default settings for this question would produce the opposite: the percent of citizens who say the current economic situation in their country is good or very good. The most straightforward way to create this graph is to create a new variable and plot that.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="title-issues.html#cb26-1" aria-hidden="true" tabindex="-1"></a>abwave7_eng<span class="sc">$</span>bad_economy <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(abwave7_eng<span class="sc">$</span>Q101 <span class="sc">%in%</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb26-2"><a href="title-issues.html#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="title-issues.html#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">calculate_smry_comp</span>(abwave7_eng,</span>
<span id="cb26-4"><a href="title-issues.html#cb26-4" aria-hidden="true" tabindex="-1"></a>                    <span class="st">&quot;bad_economy&quot;</span>,</span>
<span id="cb26-5"><a href="title-issues.html#cb26-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">.type =</span> <span class="st">&quot;dichotomous&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb26-6"><a href="title-issues.html#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_smry_comp</span>(<span class="at">.caption =</span> <span class="st">&quot;Arab Barometer Wave VII (2021-2022)&quot;</span>,</span>
<span id="cb26-7"><a href="title-issues.html#cb26-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">.language =</span> <span class="st">&quot;en&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/no-title-6-1.png" width="1248" /></p>
<p>Essentially, inside the <code>plot_smry_comp()</code> function, the functions <code>title_function()</code> and <code>subtitle_function()</code> are once again returning nothing, since the variable “bad_economy” is not in the title data frames.</p>
<p><strong>How to Fix It</strong> In this case, you must supply your own title. This is a feature that will remain constant. It is unreasonable to expect the package to predict exactly what kind of custom graphs you will produce. Just remember to include a title!</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="title-issues.html#cb27-1" aria-hidden="true" tabindex="-1"></a>abwave7_eng<span class="sc">$</span>bad_economy <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(abwave7_eng<span class="sc">$</span>Q101 <span class="sc">%in%</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb27-2"><a href="title-issues.html#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="title-issues.html#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="fu">calculate_smry_comp</span>(abwave7_eng,</span>
<span id="cb27-4"><a href="title-issues.html#cb27-4" aria-hidden="true" tabindex="-1"></a>                    <span class="st">&quot;bad_economy&quot;</span>,</span>
<span id="cb27-5"><a href="title-issues.html#cb27-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">.type =</span> <span class="st">&quot;dichotomous&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-6"><a href="title-issues.html#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_smry_comp</span>(<span class="at">.title =</span> <span class="st">&quot;How is the economy doing in your country?&quot;</span>,</span>
<span id="cb27-7"><a href="title-issues.html#cb27-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">.subtitle =</span> <span class="st">&quot;% saying bad or very bad&quot;</span>,</span>
<span id="cb27-8"><a href="title-issues.html#cb27-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">.caption =</span> <span class="st">&quot;Arab Barometer Wave VII (2021-2022)&quot;</span>,</span>
<span id="cb27-9"><a href="title-issues.html#cb27-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">.language =</span> <span class="st">&quot;en&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/no-title-7-1.png" width="672" /></p>
</div>
<div id="default-change" class="section level3 hasAnchor" number="1.1.4">
<h3><span class="header-section-number">1.1.4</span> Default Change<a href="title-issues.html#default-change" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Finally, it could be that the default setting for supplying a title has changed. By default, every <code>plot_</code> function for which a title can be automatically supplied<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>, does automatically supply a title.</p>
<p>Although it is extremely unlikely, it could be that the <code>ArabBarometR</code> default changed so <code>plot_</code> functions no longer supply a title. If this is the case, a warning has certainly gone out that this change is coming/has come and a note has been made in the record of <code>ArabBarometR</code> versioning. To check the default setting of a function, view that function’s help page. You can do this by typing <code>?function_name()</code> in your R console. On the help page, look for what the <code>.title</code> parameter is set to. If you see <code>.title = F</code> or <code>.title = FALSE</code>, the default has changed so the function no longer automatically supplies the title.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="title-issues.html#cb28-1" aria-hidden="true" tabindex="-1"></a>?plot_smry_comp</span></code></pre></div>
<p>It could also be that perhaps you turned off the default to check something else when debugging and forgot to switch it back. In this case, you would have explicitly set the <code>.title</code> parameter to <code>FALSE</code>.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="title-issues.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># English</span></span>
<span id="cb29-2"><a href="title-issues.html#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">calculate_smry_comp</span>(abwave7_eng,</span>
<span id="cb29-3"><a href="title-issues.html#cb29-3" aria-hidden="true" tabindex="-1"></a>                    <span class="st">&quot;Q2061A_1&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-4"><a href="title-issues.html#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_smry_comp</span>(<span class="at">.title =</span> <span class="cn">FALSE</span>,</span>
<span id="cb29-5"><a href="title-issues.html#cb29-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">.subtitle =</span> F,</span>
<span id="cb29-6"><a href="title-issues.html#cb29-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">.caption =</span> <span class="st">&quot;Arab Barometer Wave VII (2021-2022)&quot;</span>,</span>
<span id="cb29-7"><a href="title-issues.html#cb29-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">.language =</span> <span class="st">&quot;en&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/no-title-9-1.png" width="1248" /></p>
<p><strong>How to Fix It</strong> Set the <code>.title</code> and/or <code>.subtitle</code> parameter to <code>TRUE</code> or <code>T</code>.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="title-issues.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># English</span></span>
<span id="cb30-2"><a href="title-issues.html#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">calculate_smry_comp</span>(abwave7_eng,</span>
<span id="cb30-3"><a href="title-issues.html#cb30-3" aria-hidden="true" tabindex="-1"></a>                    <span class="st">&quot;Q2061A_1&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb30-4"><a href="title-issues.html#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_smry_comp</span>(<span class="at">.title =</span> <span class="cn">FALSE</span>,</span>
<span id="cb30-5"><a href="title-issues.html#cb30-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">.subtitle =</span> T,</span>
<span id="cb30-6"><a href="title-issues.html#cb30-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">.caption =</span> <span class="st">&quot;Arab Barometer Wave VII (2021-2022)&quot;</span>,</span>
<span id="cb30-7"><a href="title-issues.html#cb30-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">.language =</span> <span class="st">&quot;en&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/no-title-10-1.png" width="1248" /></p>
</div>
</div>
<div id="wrong-title" class="section level2 hasAnchor" number="1.2">
<h2><span class="header-section-number">1.2</span> Title/Subtitle is Wrong<a href="title-issues.html#wrong-title" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>There are a few ways the title and subtitle may appear incorrect on the graph.</p>
<ul>
<li>User supplied incorrect title</li>
<li>Wrong</li>
</ul>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>Hopefully in the future there will be one master titles sheet we add to each Wave as necessary.<a href="title-issues.html#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>See section <a href="title-issues.html#no-auto-title">1.1.3</a> for why not every function can supply a title.<a href="title-issues.html#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="arabic-issues-package.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/Arab-Baromter/Common-Graph-Issues/edit/BRANCH/title-issues.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
