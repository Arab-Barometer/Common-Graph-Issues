<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Translating Arabic Plots | Common Arab Barometer Graph Problems and How to (Mostly) Solve Them</title>
  <meta name="description" content="This is a reference for issues that commonly occur when using the ArabBarometR package, or creating graphs for Arab Barometer in general." />
  <meta name="generator" content="bookdown 0.30 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Translating Arabic Plots | Common Arab Barometer Graph Problems and How to (Mostly) Solve Them" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a reference for issues that commonly occur when using the ArabBarometR package, or creating graphs for Arab Barometer in general." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Translating Arabic Plots | Common Arab Barometer Graph Problems and How to (Mostly) Solve Them" />
  
  <meta name="twitter:description" content="This is a reference for issues that commonly occur when using the ArabBarometR package, or creating graphs for Arab Barometer in general." />
  

<meta name="author" content="MaryClare Roche" />


<meta name="date" content="2023-01-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="arabic-issues-package.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Common Graph Issues</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="1" data-path="title-issues.html"><a href="title-issues.html"><i class="fa fa-check"></i><b>1</b> Title &amp; Subtitle Issues</a>
<ul>
<li class="chapter" data-level="1.1" data-path="title-issues.html"><a href="title-issues.html#no-title"><i class="fa fa-check"></i><b>1.1</b> Title/subtitle is not showing up</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="title-issues.html"><a href="title-issues.html#wrong-numb-user"><i class="fa fa-check"></i><b>1.1.1</b> Wrong Question Number, User Error</a></li>
<li class="chapter" data-level="1.1.2" data-path="title-issues.html"><a href="title-issues.html#wrong-num-titlesheet"><i class="fa fa-check"></i><b>1.1.2</b> Wrong Question Number, Titles Sheet Errors I &amp; II</a></li>
<li class="chapter" data-level="1.1.3" data-path="title-issues.html"><a href="title-issues.html#no-auto-title"><i class="fa fa-check"></i><b>1.1.3</b> No Automatic Title/Subtitle</a></li>
<li class="chapter" data-level="1.1.4" data-path="title-issues.html"><a href="title-issues.html#default-change"><i class="fa fa-check"></i><b>1.1.4</b> Default Change</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="title-issues.html"><a href="title-issues.html#wrong-title"><i class="fa fa-check"></i><b>1.2</b> Title/Subtitle is Wrong</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="arabic-issues-package.html"><a href="arabic-issues-package.html"><i class="fa fa-check"></i><b>2</b> Arabic Issues - Package</a></li>
<li class="chapter" data-level="3" data-path="arabic-translation.html"><a href="arabic-translation.html"><i class="fa fa-check"></i><b>3</b> Translating Arabic Plots</a>
<ul>
<li class="chapter" data-level="3.1" data-path="arabic-translation.html"><a href="arabic-translation.html#english-code"><i class="fa fa-check"></i><b>3.1</b> English Code</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="arabic-translation.html"><a href="arabic-translation.html#create-a-data-frame"><i class="fa fa-check"></i><b>3.1.1</b> Create a Data Frame</a></li>
<li class="chapter" data-level="3.1.2" data-path="arabic-translation.html"><a href="arabic-translation.html#plot-the-data-frame"><i class="fa fa-check"></i><b>3.1.2</b> Plot the Data Frame</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="arabic-translation.html"><a href="arabic-translation.html#arabic-code"><i class="fa fa-check"></i><b>3.2</b> Arabic Code</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="arabic-translation.html"><a href="arabic-translation.html#create-a-data-frame-1"><i class="fa fa-check"></i><b>3.2.1</b> Create a Data Frame</a></li>
<li class="chapter" data-level="3.2.2" data-path="arabic-translation.html"><a href="arabic-translation.html#plot-the-data-frame-1"><i class="fa fa-check"></i><b>3.2.2</b> Plot the Data Frame</a></li>
<li class="chapter" data-level="3.2.3" data-path="arabic-translation.html"><a href="arabic-translation.html#translated-graph"><i class="fa fa-check"></i><b>3.2.3</b> Translated Graph</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Common Arab Barometer Graph Problems and How to (Mostly) Solve Them</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="arabic-translation" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Translating Arabic Plots<a href="arabic-translation.html#arabic-translation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This chapter reviews how to “translate” custom English plots to custom Arabic plots, and emphasizes points at which you may run into trouble. It is unreasonable to try to predict all custom plots, but regardless of the exact type of plot, there are certain consistencies we can still review. If you are having an issue with creating an Arabic plot with one of the <code>plot_</code> functions from the <code>ArabBarometR</code> package, please see Chapter <a href="arabic-issues-package.html#arabic-issues-package">2</a>.</p>
<p>For this chapter, we are going to create a dumbbell plot showing the change in views regarding women in politics overtime. This graph cannot be created with the <code>ArabBarometR</code> package. It must be created “by hand”. The graph will first be created in English, then translated into Arabic<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>.</p>
<p>This is NOT meant to be a guide or reference for creating dumbbell plots. The goal is to highlight necessary changes when translating a graph from English to Arabic. Therefore, the section demonstrating the code for an English graph will have minimal instruction. The English code simply serves as a reference for the Arabic section.</p>
<p>Furthermore, since this is a demonstration graph and is not being used in production, we do not need to discuss the merits of design choices here. There are a number of different ways to visualize this data, but that is not the point of this chapter. The point of this chapter is to see how English graphs can be translated into Arabic.</p>
<div id="english-code" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> English Code<a href="arabic-translation.html#english-code" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="create-a-data-frame" class="section level3 hasAnchor" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Create a Data Frame<a href="arabic-translation.html#create-a-data-frame" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The first step for any plot is to create the data frame you wish to plot. Since we are comparing data from the first two waves to wave seven, we need to load and subset the trend data.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="arabic-translation.html#cb31-1" aria-hidden="true" tabindex="-1"></a>trend_data_ENG <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_dta</span>(<span class="st">&quot;path/to/trend/data&quot;</span>)</span>
<span id="cb31-2"><a href="arabic-translation.html#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="arabic-translation.html#cb31-3" aria-hidden="true" tabindex="-1"></a>all_waves_ENG <span class="ot">&lt;-</span> trend_data_ENG <span class="sc">%&gt;%</span></span>
<span id="cb31-4"><a href="arabic-translation.html#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split</span>(<span class="at">f =</span> .<span class="sc">$</span>WAVE)</span></code></pre></div>
<p>Now we have a list of data frames according to wave, stored in the variable <code>all_waves_ENG</code>.</p>
<p>The next step is to calculate the summary of <code>Q601_3</code> by country for each wave. We can do that using the <code>calculate_smry_comp()</code> function from the <code>ArabBarometR</code> package.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="arabic-translation.html#cb32-1" aria-hidden="true" tabindex="-1"></a>wave7_Q6013 <span class="ot">&lt;-</span> abwave7_eng <span class="sc">%&gt;%</span></span>
<span id="cb32-2"><a href="arabic-translation.html#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_smry_comp</span>(<span class="st">&quot;Q601_3&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-3"><a href="arabic-translation.html#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Wave =</span> <span class="st">&quot;VII&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-4"><a href="arabic-translation.html#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Country =</span> <span class="fu">as.character</span>(Country))</span>
<span id="cb32-5"><a href="arabic-translation.html#cb32-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-6"><a href="arabic-translation.html#cb32-6" aria-hidden="true" tabindex="-1"></a>wave1_Q6013 <span class="ot">&lt;-</span> all_waves_ENG<span class="sc">$</span><span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="sc">%&gt;%</span></span>
<span id="cb32-7"><a href="arabic-translation.html#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_smry_comp</span>(<span class="st">&quot;Q601_3&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-8"><a href="arabic-translation.html#cb32-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Wave =</span> <span class="st">&quot;I&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-9"><a href="arabic-translation.html#cb32-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Country =</span> <span class="fu">as.character</span>(Country))</span>
<span id="cb32-10"><a href="arabic-translation.html#cb32-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-11"><a href="arabic-translation.html#cb32-11" aria-hidden="true" tabindex="-1"></a>wave2_Q6013 <span class="ot">&lt;-</span> all_waves_ENG<span class="sc">$</span><span class="st">`</span><span class="at">2</span><span class="st">`</span> <span class="sc">%&gt;%</span></span>
<span id="cb32-12"><a href="arabic-translation.html#cb32-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_smry_comp</span>(<span class="st">&quot;Q601_3&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-13"><a href="arabic-translation.html#cb32-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Wave =</span> <span class="st">&quot;II&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-14"><a href="arabic-translation.html#cb32-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Country =</span> <span class="fu">as.character</span>(Country))</span></code></pre></div>
<p>Currently, there is no way to distinguish which summaries belong to which wave. Every data frame has one column names <code>Country</code> and one column named <code>Q601_3</code>. Let’s add a distinguishing column. Also, to save ourselves a headache later, let’s convert <code>Country</code> from a labelled double to a character.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="arabic-translation.html#cb33-1" aria-hidden="true" tabindex="-1"></a>wave7_Q6013 <span class="ot">&lt;-</span> wave7_Q6013 <span class="sc">%&gt;%</span></span>
<span id="cb33-2"><a href="arabic-translation.html#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Wave =</span> <span class="st">&quot;VII&quot;</span>,</span>
<span id="cb33-3"><a href="arabic-translation.html#cb33-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">Country =</span> <span class="fu">as.character</span>(Country))</span>
<span id="cb33-4"><a href="arabic-translation.html#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="arabic-translation.html#cb33-5" aria-hidden="true" tabindex="-1"></a>wave1_Q6013 <span class="ot">&lt;-</span> wave1_Q6013 <span class="sc">%&gt;%</span></span>
<span id="cb33-6"><a href="arabic-translation.html#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Wave =</span> <span class="st">&quot;I&quot;</span>,</span>
<span id="cb33-7"><a href="arabic-translation.html#cb33-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">Country =</span> <span class="fu">as.character</span>(Country)) </span>
<span id="cb33-8"><a href="arabic-translation.html#cb33-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-9"><a href="arabic-translation.html#cb33-9" aria-hidden="true" tabindex="-1"></a>wave2_Q6013 <span class="ot">&lt;-</span> wave2_Q6013 <span class="sc">%&gt;%</span></span>
<span id="cb33-10"><a href="arabic-translation.html#cb33-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Wave =</span> <span class="st">&quot;II&quot;</span>,</span>
<span id="cb33-11"><a href="arabic-translation.html#cb33-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">Country =</span> <span class="fu">as.character</span>(Country))</span></code></pre></div>
<p>Some countries were surveyed both in Wave I and Wave II. We only want to compare the earliest point at which the country is surveyed to the latest point at which the country was surveyed. Thus, we filter out countries from Wave II which appeared in Wave I.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="arabic-translation.html#cb34-1" aria-hidden="true" tabindex="-1"></a>early_waves <span class="ot">&lt;-</span> <span class="fu">rbind</span>(wave1_Q6013,</span>
<span id="cb34-2"><a href="arabic-translation.html#cb34-2" aria-hidden="true" tabindex="-1"></a>                     wave2_Q6013)  <span class="sc">%&gt;%</span></span>
<span id="cb34-3"><a href="arabic-translation.html#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Country) <span class="sc">%&gt;%</span></span>
<span id="cb34-4"><a href="arabic-translation.html#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-5"><a href="arabic-translation.html#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code></pre></div>
<p>Now, we know some countries were surveyed in Wave VII that were not surveyed in Waves I or II. Similarly, some countries were surveyed in Waves I or II but not in Wave VII. We cannot compare the responses from Wave VII to Wave I or II if the country was not surveyed, so we need to limit our summaries to countries which were surveys in Wave VII and Wave I or II.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="arabic-translation.html#cb35-1" aria-hidden="true" tabindex="-1"></a>countries <span class="ot">&lt;-</span> <span class="fu">intersect</span>(wave7_Q6013<span class="sc">$</span>Country,</span>
<span id="cb35-2"><a href="arabic-translation.html#cb35-2" aria-hidden="true" tabindex="-1"></a>                       early_waves<span class="sc">$</span>Country)</span>
<span id="cb35-3"><a href="arabic-translation.html#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="arabic-translation.html#cb35-4" aria-hidden="true" tabindex="-1"></a>wave7_Q6013 <span class="ot">&lt;-</span> wave7_Q6013 <span class="sc">%&gt;%</span></span>
<span id="cb35-5"><a href="arabic-translation.html#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Country <span class="sc">%in%</span> countries)</span>
<span id="cb35-6"><a href="arabic-translation.html#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="arabic-translation.html#cb35-7" aria-hidden="true" tabindex="-1"></a>early_waves <span class="ot">&lt;-</span> early_waves <span class="sc">%&gt;%</span></span>
<span id="cb35-8"><a href="arabic-translation.html#cb35-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Country <span class="sc">%in%</span> countries)</span></code></pre></div>
<p>The (nearly) last step is to combine the <code>early_waves</code> data frame and the <code>wave7_Q6013</code> data frame, and re-order the columns (why we want to re-order the columns will become clear in a moment).</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="arabic-translation.html#cb36-1" aria-hidden="true" tabindex="-1"></a>Q6013_trend <span class="ot">&lt;-</span> <span class="fu">rbind</span>(wave7_Q6013,</span>
<span id="cb36-2"><a href="arabic-translation.html#cb36-2" aria-hidden="true" tabindex="-1"></a>                      early_waves) <span class="sc">%&gt;%</span></span>
<span id="cb36-3"><a href="arabic-translation.html#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(Wave, <span class="at">.before =</span> Q601_3)</span></code></pre></div>
<p>With this data frame, we can use the <code>plot_demographic_smry_comp()</code> function from the <code>ArabBarometR</code> package. The order of the columns matters for this function. The <code>plot_demographic_smry_comp()</code> function expects output in the same form the <code>calculate_demographic_smry_comp()</code> function outputs. That is, the columns from left to right should be a country column, a demographic column, and a percent column. That is the order of <code>Q6013_trend</code>, so we can plug it into <code>plot_demographic_smry_comp()</code>.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="arabic-translation.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_demographic_smry_comp</span>(Q6013_trend,</span>
<span id="cb37-2"><a href="arabic-translation.html#cb37-2" aria-hidden="true" tabindex="-1"></a>                           <span class="at">.caption =</span> <span class="st">&quot;Arab Barometer Waves I, II, VII&quot;</span>,</span>
<span id="cb37-3"><a href="arabic-translation.html#cb37-3" aria-hidden="true" tabindex="-1"></a>                           <span class="at">.language =</span> <span class="st">&quot;en&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/arabic-translation-7-1.png" width="1248" /></p>
<p>But this chapter is not for <code>plot_</code> functions from the <code>ArabBarometR</code> package, so let’s continue.</p>
<p>Before creating the dumbbell plot for <code>Q6013_trend</code>, let’s do one more calculation that will allow us to include arrows pointing in the direction of opinion change over the years.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="arabic-translation.html#cb38-1" aria-hidden="true" tabindex="-1"></a>Q6013_trend <span class="ot">&lt;-</span> Q6013_trend <span class="sc">%&gt;%</span></span>
<span id="cb38-2"><a href="arabic-translation.html#cb38-2" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">&quot;Wave&quot;</span>,</span>
<span id="cb38-3"><a href="arabic-translation.html#cb38-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values_from =</span> <span class="st">&quot;Q601_3&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-4"><a href="arabic-translation.html#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">one2seven =</span> <span class="fu">abs</span>(VII <span class="sc">-</span> I)<span class="sc">/</span><span class="dv">2</span> <span class="sc">+</span> <span class="fu">pmin</span>(VII,I),</span>
<span id="cb38-5"><a href="arabic-translation.html#cb38-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">two2seven =</span> <span class="fu">abs</span>(VII <span class="sc">-</span> II)<span class="sc">/</span><span class="dv">2</span> <span class="sc">+</span> <span class="fu">pmin</span>(VII,II),</span>
<span id="cb38-6"><a href="arabic-translation.html#cb38-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">midpoint =</span> <span class="fu">coalesce</span>(one2seven,two2seven)) <span class="sc">%&gt;%</span></span>
<span id="cb38-7"><a href="arabic-translation.html#cb38-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">c</span>(one2seven,two2seven)) <span class="sc">%&gt;%</span></span>
<span id="cb38-8"><a href="arabic-translation.html#cb38-8" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(VII,II,I),</span>
<span id="cb38-9"><a href="arabic-translation.html#cb38-9" aria-hidden="true" tabindex="-1"></a>                      <span class="at">names_to =</span> <span class="st">&quot;Wave&quot;</span>,</span>
<span id="cb38-10"><a href="arabic-translation.html#cb38-10" aria-hidden="true" tabindex="-1"></a>                      <span class="at">values_to =</span> <span class="st">&quot;Q601_3&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-11"><a href="arabic-translation.html#cb38-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(Q601_3))</span></code></pre></div>
<p>Now, we are ready to create our dumbbell plot.</p>
</div>
<div id="plot-the-data-frame" class="section level3 hasAnchor" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Plot the Data Frame<a href="arabic-translation.html#plot-the-data-frame" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There will not be a detailed explanation of what each line of the code does to plot the data. The point of this chapter is not to explain how to create dumbbell plots. The point is to re-create a custom English plot in Arabic.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="arabic-translation.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data Frame:</span></span>
<span id="cb39-2"><a href="arabic-translation.html#cb39-2" aria-hidden="true" tabindex="-1"></a>Q6013_trend <span class="sc">%&gt;%</span> </span>
<span id="cb39-3"><a href="arabic-translation.html#cb39-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb39-4"><a href="arabic-translation.html#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ggplot base</span></span>
<span id="cb39-5"><a href="arabic-translation.html#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Q601_3, <span class="at">y =</span> <span class="fu">reorder</span>(Country,Q601_3))) <span class="sc">+</span></span>
<span id="cb39-6"><a href="arabic-translation.html#cb39-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb39-7"><a href="arabic-translation.html#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ggplot line for connecting the points</span></span>
<span id="cb39-8"><a href="arabic-translation.html#cb39-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> Country),</span>
<span id="cb39-9"><a href="arabic-translation.html#cb39-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">&quot;#545454&quot;</span>) <span class="sc">+</span></span>
<span id="cb39-10"><a href="arabic-translation.html#cb39-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb39-11"><a href="arabic-translation.html#cb39-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ggplot arrow pointing in the direction of change</span></span>
<span id="cb39-12"><a href="arabic-translation.html#cb39-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">data =</span> <span class="sc">~</span><span class="fu">subset</span>(.x, Wave <span class="sc">==</span> <span class="st">&quot;I&quot;</span><span class="sc">|</span>Wave <span class="sc">==</span> <span class="st">&quot;II&quot;</span>), </span>
<span id="cb39-13"><a href="arabic-translation.html#cb39-13" aria-hidden="true" tabindex="-1"></a>               <span class="fu">aes</span>(</span>
<span id="cb39-14"><a href="arabic-translation.html#cb39-14" aria-hidden="true" tabindex="-1"></a>                 <span class="at">x =</span> midpoint,</span>
<span id="cb39-15"><a href="arabic-translation.html#cb39-15" aria-hidden="true" tabindex="-1"></a>                 <span class="at">xend =</span> midpoint <span class="sc">+</span> .<span class="dv">5</span> <span class="sc">*</span> <span class="fu">sign</span>(midpoint <span class="sc">-</span> Q601_3), </span>
<span id="cb39-16"><a href="arabic-translation.html#cb39-16" aria-hidden="true" tabindex="-1"></a>                 <span class="at">yend =</span> Country), </span>
<span id="cb39-17"><a href="arabic-translation.html#cb39-17" aria-hidden="true" tabindex="-1"></a>               <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">angle =</span> <span class="dv">30</span>, <span class="at">length =</span> <span class="fu">unit</span>(.<span class="dv">1</span>, <span class="st">&quot;inches&quot;</span>), <span class="at">type =</span> <span class="st">&quot;closed&quot;</span>), </span>
<span id="cb39-18"><a href="arabic-translation.html#cb39-18" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> <span class="st">&quot;#545454&quot;</span>) <span class="sc">+</span></span>
<span id="cb39-19"><a href="arabic-translation.html#cb39-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb39-20"><a href="arabic-translation.html#cb39-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ggplot points</span></span>
<span id="cb39-21"><a href="arabic-translation.html#cb39-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Wave),</span>
<span id="cb39-22"><a href="arabic-translation.html#cb39-22" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb39-23"><a href="arabic-translation.html#cb39-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb39-24"><a href="arabic-translation.html#cb39-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># setting the colors of the points</span></span>
<span id="cb39-25"><a href="arabic-translation.html#cb39-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;#0098BE&quot;</span>,<span class="st">&quot;#7CBBC7&quot;</span>,<span class="st">&quot;#DF6E21&quot;</span>))<span class="sc">+</span></span>
<span id="cb39-26"><a href="arabic-translation.html#cb39-26" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb39-27"><a href="arabic-translation.html#cb39-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># adding the percent value to the points</span></span>
<span id="cb39-28"><a href="arabic-translation.html#cb39-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">ifelse</span>(Q601_3 <span class="sc">==</span> <span class="dv">0</span>, <span class="st">&quot;&lt;1&quot;</span>, Q601_3),</span>
<span id="cb39-29"><a href="arabic-translation.html#cb39-29" aria-hidden="true" tabindex="-1"></a>                <span class="at">family =</span> <span class="st">&#39;Montserrat&#39;</span>),</span>
<span id="cb39-30"><a href="arabic-translation.html#cb39-30" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb39-31"><a href="arabic-translation.html#cb39-31" aria-hidden="true" tabindex="-1"></a>            <span class="at">fontface =</span> <span class="st">&quot;bold&quot;</span>,</span>
<span id="cb39-32"><a href="arabic-translation.html#cb39-32" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="dv">4</span>,</span>
<span id="cb39-33"><a href="arabic-translation.html#cb39-33" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb39-34"><a href="arabic-translation.html#cb39-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb39-35"><a href="arabic-translation.html#cb39-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># showing the whole scale from 0 to 100</span></span>
<span id="cb39-36"><a href="arabic-translation.html#cb39-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">100</span>)) <span class="sc">+</span></span>
<span id="cb39-37"><a href="arabic-translation.html#cb39-37" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb39-38"><a href="arabic-translation.html#cb39-38" aria-hidden="true" tabindex="-1"></a>  <span class="co"># adding a title and subtitle</span></span>
<span id="cb39-39"><a href="arabic-translation.html#cb39-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb39-40"><a href="arabic-translation.html#cb39-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> stringr<span class="sc">::</span><span class="fu">str_wrap</span>(</span>
<span id="cb39-41"><a href="arabic-translation.html#cb39-41" aria-hidden="true" tabindex="-1"></a>      <span class="fu">title_function</span>(<span class="cn">TRUE</span>,</span>
<span id="cb39-42"><a href="arabic-translation.html#cb39-42" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&quot;Q601_3&quot;</span>,</span>
<span id="cb39-43"><a href="arabic-translation.html#cb39-43" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&quot;English&quot;</span>,</span>
<span id="cb39-44"><a href="arabic-translation.html#cb39-44" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&quot;comparative&quot;</span>),</span>
<span id="cb39-45"><a href="arabic-translation.html#cb39-45" aria-hidden="true" tabindex="-1"></a>      <span class="dv">50</span>),</span>
<span id="cb39-46"><a href="arabic-translation.html#cb39-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">subtitle_function</span>(<span class="cn">TRUE</span>,</span>
<span id="cb39-47"><a href="arabic-translation.html#cb39-47" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">&quot;Q601_3&quot;</span>,</span>
<span id="cb39-48"><a href="arabic-translation.html#cb39-48" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">&quot;English&quot;</span>,</span>
<span id="cb39-49"><a href="arabic-translation.html#cb39-49" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">&quot;comparative&quot;</span>),</span>
<span id="cb39-50"><a href="arabic-translation.html#cb39-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Arab Barometer Wave I, II, VII&quot;</span></span>
<span id="cb39-51"><a href="arabic-translation.html#cb39-51" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb39-52"><a href="arabic-translation.html#cb39-52" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb39-53"><a href="arabic-translation.html#cb39-53" aria-hidden="true" tabindex="-1"></a>  <span class="co"># using the Arab Barometer branded theme</span></span>
<span id="cb39-54"><a href="arabic-translation.html#cb39-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ab_english</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/arabic-translations-9-1.png" width="1248" /></p>
</div>
</div>
<div id="arabic-code" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Arabic Code<a href="arabic-translation.html#arabic-code" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Again, the first step is to create the data frame we want to plot, this time with the Arabic data.</p>
<div id="create-a-data-frame-1" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Create a Data Frame<a href="arabic-translation.html#create-a-data-frame-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="arabic-translation.html#cb40-1" aria-hidden="true" tabindex="-1"></a>trend_data_ARA <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_dta</span>(<span class="st">&quot;path/to/trend/data&quot;</span>)</span>
<span id="cb40-2"><a href="arabic-translation.html#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="arabic-translation.html#cb40-3" aria-hidden="true" tabindex="-1"></a>all_waves_ARA <span class="ot">&lt;-</span> trend_data_ARA <span class="sc">%&gt;%</span></span>
<span id="cb40-4"><a href="arabic-translation.html#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split</span>(<span class="at">f =</span> .<span class="sc">$</span>WAVE)</span></code></pre></div>
<p>Since the process for creating the data frame is the same, regardless of language, all of it is presented here succinctly.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="arabic-translation.html#cb41-1" aria-hidden="true" tabindex="-1"></a>wave7_Q6013 <span class="ot">&lt;-</span> abwave7_ara <span class="sc">%&gt;%</span></span>
<span id="cb41-2"><a href="arabic-translation.html#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_smry_comp</span>(<span class="st">&quot;Q601_3&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-3"><a href="arabic-translation.html#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Wave =</span> <span class="st">&quot;VII&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-4"><a href="arabic-translation.html#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Country =</span> <span class="fu">as.character</span>(Country))</span>
<span id="cb41-5"><a href="arabic-translation.html#cb41-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-6"><a href="arabic-translation.html#cb41-6" aria-hidden="true" tabindex="-1"></a>wave1_Q6013 <span class="ot">&lt;-</span> all_waves_ARA<span class="sc">$</span><span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="sc">%&gt;%</span></span>
<span id="cb41-7"><a href="arabic-translation.html#cb41-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_smry_comp</span>(<span class="st">&quot;Q601_3&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-8"><a href="arabic-translation.html#cb41-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Wave =</span> <span class="st">&quot;I&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-9"><a href="arabic-translation.html#cb41-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Country =</span> <span class="fu">as.character</span>(Country))</span>
<span id="cb41-10"><a href="arabic-translation.html#cb41-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-11"><a href="arabic-translation.html#cb41-11" aria-hidden="true" tabindex="-1"></a>wave2_Q6013 <span class="ot">&lt;-</span> all_waves_ARA<span class="sc">$</span><span class="st">`</span><span class="at">2</span><span class="st">`</span> <span class="sc">%&gt;%</span></span>
<span id="cb41-12"><a href="arabic-translation.html#cb41-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_smry_comp</span>(<span class="st">&quot;Q601_3&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-13"><a href="arabic-translation.html#cb41-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Wave =</span> <span class="st">&quot;II&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-14"><a href="arabic-translation.html#cb41-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Country =</span> <span class="fu">as.character</span>(Country))</span>
<span id="cb41-15"><a href="arabic-translation.html#cb41-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-16"><a href="arabic-translation.html#cb41-16" aria-hidden="true" tabindex="-1"></a>early_waves <span class="ot">&lt;-</span> <span class="fu">rbind</span>(wave1_Q6013,</span>
<span id="cb41-17"><a href="arabic-translation.html#cb41-17" aria-hidden="true" tabindex="-1"></a>                     wave2_Q6013)  <span class="sc">%&gt;%</span></span>
<span id="cb41-18"><a href="arabic-translation.html#cb41-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Country) <span class="sc">%&gt;%</span></span>
<span id="cb41-19"><a href="arabic-translation.html#cb41-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-20"><a href="arabic-translation.html#cb41-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb41-21"><a href="arabic-translation.html#cb41-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-22"><a href="arabic-translation.html#cb41-22" aria-hidden="true" tabindex="-1"></a>countries <span class="ot">&lt;-</span> <span class="fu">intersect</span>(wave7_Q6013<span class="sc">$</span>Country,</span>
<span id="cb41-23"><a href="arabic-translation.html#cb41-23" aria-hidden="true" tabindex="-1"></a>                       early_waves<span class="sc">$</span>Country)</span>
<span id="cb41-24"><a href="arabic-translation.html#cb41-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-25"><a href="arabic-translation.html#cb41-25" aria-hidden="true" tabindex="-1"></a>wave7_Q6013 <span class="ot">&lt;-</span> wave7_Q6013 <span class="sc">%&gt;%</span></span>
<span id="cb41-26"><a href="arabic-translation.html#cb41-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Country <span class="sc">%in%</span> countries)</span>
<span id="cb41-27"><a href="arabic-translation.html#cb41-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-28"><a href="arabic-translation.html#cb41-28" aria-hidden="true" tabindex="-1"></a>early_waves <span class="ot">&lt;-</span> early_waves <span class="sc">%&gt;%</span></span>
<span id="cb41-29"><a href="arabic-translation.html#cb41-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Country <span class="sc">%in%</span> countries)</span>
<span id="cb41-30"><a href="arabic-translation.html#cb41-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-31"><a href="arabic-translation.html#cb41-31" aria-hidden="true" tabindex="-1"></a>Q6013_trend <span class="ot">&lt;-</span> <span class="fu">rbind</span>(wave7_Q6013,</span>
<span id="cb41-32"><a href="arabic-translation.html#cb41-32" aria-hidden="true" tabindex="-1"></a>                      early_waves) <span class="sc">%&gt;%</span></span>
<span id="cb41-33"><a href="arabic-translation.html#cb41-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(Wave, <span class="at">.before =</span> Q601_3) <span class="sc">%&gt;%</span></span>
<span id="cb41-34"><a href="arabic-translation.html#cb41-34" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">&quot;Wave&quot;</span>,</span>
<span id="cb41-35"><a href="arabic-translation.html#cb41-35" aria-hidden="true" tabindex="-1"></a>                     <span class="at">values_from =</span> <span class="st">&quot;Q601_3&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-36"><a href="arabic-translation.html#cb41-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">one2seven =</span> <span class="fu">abs</span>(VII <span class="sc">-</span> I)<span class="sc">/</span><span class="dv">2</span> <span class="sc">+</span> <span class="fu">pmin</span>(VII,I),</span>
<span id="cb41-37"><a href="arabic-translation.html#cb41-37" aria-hidden="true" tabindex="-1"></a>         <span class="at">two2seven =</span> <span class="fu">abs</span>(VII <span class="sc">-</span> II)<span class="sc">/</span><span class="dv">2</span> <span class="sc">+</span> <span class="fu">pmin</span>(VII,II),</span>
<span id="cb41-38"><a href="arabic-translation.html#cb41-38" aria-hidden="true" tabindex="-1"></a>         <span class="at">midpoint =</span> <span class="fu">coalesce</span>(one2seven,two2seven)) <span class="sc">%&gt;%</span></span>
<span id="cb41-39"><a href="arabic-translation.html#cb41-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">c</span>(one2seven,two2seven)) <span class="sc">%&gt;%</span></span>
<span id="cb41-40"><a href="arabic-translation.html#cb41-40" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(VII,II,I),</span>
<span id="cb41-41"><a href="arabic-translation.html#cb41-41" aria-hidden="true" tabindex="-1"></a>                      <span class="at">names_to =</span> <span class="st">&quot;Wave&quot;</span>,</span>
<span id="cb41-42"><a href="arabic-translation.html#cb41-42" aria-hidden="true" tabindex="-1"></a>                      <span class="at">values_to =</span> <span class="st">&quot;Q601_3&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-43"><a href="arabic-translation.html#cb41-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(Q601_3))</span></code></pre></div>
<p>Now for plotting.</p>
</div>
<div id="plot-the-data-frame-1" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Plot the Data Frame<a href="arabic-translation.html#plot-the-data-frame-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Unlike creating the data frame, you cannot simply plug the Arabic data frame in for the English data frame and call it a day. The code below is exactly the code from creating the English graph, only the Arabic data frame is being piped in. The code chunk is numbered. When referencing lines of code, this is the code chunk being referred to.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb42-1"><a href="arabic-translation.html#cb42-1"></a><span class="co"># Data Frame:</span></span>
<span id="cb42-2"><a href="arabic-translation.html#cb42-2"></a>Q6013_trend <span class="sc">%&gt;%</span> </span>
<span id="cb42-3"><a href="arabic-translation.html#cb42-3"></a>  </span>
<span id="cb42-4"><a href="arabic-translation.html#cb42-4"></a>  <span class="co"># ggplot base</span></span>
<span id="cb42-5"><a href="arabic-translation.html#cb42-5"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Q601_3, <span class="at">y =</span> <span class="fu">reorder</span>(Country,Q601_3))) <span class="sc">+</span></span>
<span id="cb42-6"><a href="arabic-translation.html#cb42-6"></a>  </span>
<span id="cb42-7"><a href="arabic-translation.html#cb42-7"></a>  <span class="co"># ggplot line for connecting the points</span></span>
<span id="cb42-8"><a href="arabic-translation.html#cb42-8"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> Country),</span>
<span id="cb42-9"><a href="arabic-translation.html#cb42-9"></a>            <span class="at">color =</span> <span class="st">&quot;#545454&quot;</span>) <span class="sc">+</span></span>
<span id="cb42-10"><a href="arabic-translation.html#cb42-10"></a>  </span>
<span id="cb42-11"><a href="arabic-translation.html#cb42-11"></a>  <span class="co"># ggplot arrow pointing in the direction of change</span></span>
<span id="cb42-12"><a href="arabic-translation.html#cb42-12"></a>  <span class="fu">geom_segment</span>(<span class="at">data =</span> <span class="sc">~</span><span class="fu">subset</span>(.x, Wave <span class="sc">==</span> <span class="st">&quot;I&quot;</span><span class="sc">|</span>Wave <span class="sc">==</span> <span class="st">&quot;II&quot;</span>), </span>
<span id="cb42-13"><a href="arabic-translation.html#cb42-13"></a>               <span class="fu">aes</span>(</span>
<span id="cb42-14"><a href="arabic-translation.html#cb42-14"></a>                 <span class="at">x =</span> midpoint,</span>
<span id="cb42-15"><a href="arabic-translation.html#cb42-15"></a>                 <span class="at">xend =</span> midpoint <span class="sc">+</span> .<span class="dv">5</span> <span class="sc">*</span> <span class="fu">sign</span>(midpoint <span class="sc">-</span> Q601_3), </span>
<span id="cb42-16"><a href="arabic-translation.html#cb42-16"></a>                 <span class="at">yend =</span> Country), </span>
<span id="cb42-17"><a href="arabic-translation.html#cb42-17"></a>               <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">angle =</span> <span class="dv">30</span>, <span class="at">length =</span> <span class="fu">unit</span>(.<span class="dv">1</span>, <span class="st">&quot;inches&quot;</span>), <span class="at">type =</span> <span class="st">&quot;closed&quot;</span>), </span>
<span id="cb42-18"><a href="arabic-translation.html#cb42-18"></a>               <span class="at">color =</span> <span class="st">&quot;#545454&quot;</span>) <span class="sc">+</span></span>
<span id="cb42-19"><a href="arabic-translation.html#cb42-19"></a>  </span>
<span id="cb42-20"><a href="arabic-translation.html#cb42-20"></a>  <span class="co"># ggplot points</span></span>
<span id="cb42-21"><a href="arabic-translation.html#cb42-21"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Wave),</span>
<span id="cb42-22"><a href="arabic-translation.html#cb42-22"></a>             <span class="at">size =</span> <span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb42-23"><a href="arabic-translation.html#cb42-23"></a>  </span>
<span id="cb42-24"><a href="arabic-translation.html#cb42-24"></a>  <span class="co"># setting the colors of the points</span></span>
<span id="cb42-25"><a href="arabic-translation.html#cb42-25"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;#0098BE&quot;</span>,<span class="st">&quot;#7CBBC7&quot;</span>,<span class="st">&quot;#DF6E21&quot;</span>))<span class="sc">+</span></span>
<span id="cb42-26"><a href="arabic-translation.html#cb42-26"></a>  </span>
<span id="cb42-27"><a href="arabic-translation.html#cb42-27"></a>  <span class="co"># adding the percent value to the points</span></span>
<span id="cb42-28"><a href="arabic-translation.html#cb42-28"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">ifelse</span>(Q601_3 <span class="sc">==</span> <span class="dv">0</span>, <span class="st">&quot;&lt;1&quot;</span>, Q601_3),</span>
<span id="cb42-29"><a href="arabic-translation.html#cb42-29"></a>                <span class="at">family =</span> <span class="st">&#39;Montserrat&#39;</span>),</span>
<span id="cb42-30"><a href="arabic-translation.html#cb42-30"></a>            <span class="at">color =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb42-31"><a href="arabic-translation.html#cb42-31"></a>            <span class="at">fontface =</span> <span class="st">&quot;bold&quot;</span>,</span>
<span id="cb42-32"><a href="arabic-translation.html#cb42-32"></a>            <span class="at">size =</span> <span class="dv">4</span>,</span>
<span id="cb42-33"><a href="arabic-translation.html#cb42-33"></a>            <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb42-34"><a href="arabic-translation.html#cb42-34"></a>  </span>
<span id="cb42-35"><a href="arabic-translation.html#cb42-35"></a>  <span class="co"># showing the whole scale from 0 to 100</span></span>
<span id="cb42-36"><a href="arabic-translation.html#cb42-36"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">100</span>)) <span class="sc">+</span></span>
<span id="cb42-37"><a href="arabic-translation.html#cb42-37"></a>  </span>
<span id="cb42-38"><a href="arabic-translation.html#cb42-38"></a>  <span class="co"># adding a title and subtitle</span></span>
<span id="cb42-39"><a href="arabic-translation.html#cb42-39"></a>  <span class="fu">labs</span>(</span>
<span id="cb42-40"><a href="arabic-translation.html#cb42-40"></a>    <span class="at">title =</span> stringr<span class="sc">::</span><span class="fu">str_wrap</span>(</span>
<span id="cb42-41"><a href="arabic-translation.html#cb42-41"></a>      <span class="fu">title_function</span>(<span class="cn">TRUE</span>,</span>
<span id="cb42-42"><a href="arabic-translation.html#cb42-42"></a>                     <span class="st">&quot;Q601_3&quot;</span>,</span>
<span id="cb42-43"><a href="arabic-translation.html#cb42-43"></a>                     <span class="st">&quot;English&quot;</span>,</span>
<span id="cb42-44"><a href="arabic-translation.html#cb42-44"></a>                     <span class="st">&quot;comparative&quot;</span>),</span>
<span id="cb42-45"><a href="arabic-translation.html#cb42-45"></a>      <span class="dv">50</span>),</span>
<span id="cb42-46"><a href="arabic-translation.html#cb42-46"></a>    <span class="at">subtitle =</span> <span class="fu">subtitle_function</span>(<span class="cn">TRUE</span>,</span>
<span id="cb42-47"><a href="arabic-translation.html#cb42-47"></a>                                 <span class="st">&quot;Q601_3&quot;</span>,</span>
<span id="cb42-48"><a href="arabic-translation.html#cb42-48"></a>                                 <span class="st">&quot;English&quot;</span>,</span>
<span id="cb42-49"><a href="arabic-translation.html#cb42-49"></a>                                 <span class="st">&quot;comparative&quot;</span>),</span>
<span id="cb42-50"><a href="arabic-translation.html#cb42-50"></a>    <span class="at">caption =</span> <span class="st">&quot;Arab Barometer Wave I, II, VII&quot;</span></span>
<span id="cb42-51"><a href="arabic-translation.html#cb42-51"></a>  ) <span class="sc">+</span></span>
<span id="cb42-52"><a href="arabic-translation.html#cb42-52"></a>  </span>
<span id="cb42-53"><a href="arabic-translation.html#cb42-53"></a>  <span class="co"># using the Arab Barometer branded theme</span></span>
<span id="cb42-54"><a href="arabic-translation.html#cb42-54"></a>  <span class="fu">theme_ab_english</span>()</span></code></pre></div>
<p><img src="Untranslated_Arabic_Graph.png" width="1950" /></p>
<div id="english-to-arabic-text" class="section level4 unnumbered hasAnchor">
<h4>English to Arabic Text<a href="arabic-translation.html#english-to-arabic-text" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>There are several obvious issues with the graph. Most blatantly, the title, subtitle, and caption are in English. This is changed by changing lines 40 - 50.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="arabic-translation.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># English Titles</span></span>
<span id="cb43-2"><a href="arabic-translation.html#cb43-2" aria-hidden="true" tabindex="-1"></a>title <span class="ot">=</span> stringr<span class="sc">::</span><span class="fu">str_wrap</span>(</span>
<span id="cb43-3"><a href="arabic-translation.html#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">title_function</span>(<span class="cn">TRUE</span>,</span>
<span id="cb43-4"><a href="arabic-translation.html#cb43-4" aria-hidden="true" tabindex="-1"></a>                 <span class="st">&quot;Q601_3&quot;</span>,</span>
<span id="cb43-5"><a href="arabic-translation.html#cb43-5" aria-hidden="true" tabindex="-1"></a>                 <span class="st">&quot;English&quot;</span>,</span>
<span id="cb43-6"><a href="arabic-translation.html#cb43-6" aria-hidden="true" tabindex="-1"></a>                 <span class="st">&quot;comparative&quot;</span>),</span>
<span id="cb43-7"><a href="arabic-translation.html#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="dv">50</span>),</span>
<span id="cb43-8"><a href="arabic-translation.html#cb43-8" aria-hidden="true" tabindex="-1"></a>subtitle <span class="ot">=</span> <span class="fu">subtitle_function</span>(<span class="cn">TRUE</span>,</span>
<span id="cb43-9"><a href="arabic-translation.html#cb43-9" aria-hidden="true" tabindex="-1"></a>                             <span class="st">&quot;Q601_3&quot;</span>,</span>
<span id="cb43-10"><a href="arabic-translation.html#cb43-10" aria-hidden="true" tabindex="-1"></a>                             <span class="st">&quot;English&quot;</span>,</span>
<span id="cb43-11"><a href="arabic-translation.html#cb43-11" aria-hidden="true" tabindex="-1"></a>                             <span class="st">&quot;comparative&quot;</span>),</span>
<span id="cb43-12"><a href="arabic-translation.html#cb43-12" aria-hidden="true" tabindex="-1"></a>caption <span class="ot">=</span> <span class="st">&quot;Arab Barometer Wave I, II, VII&quot;</span></span>
<span id="cb43-13"><a href="arabic-translation.html#cb43-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-14"><a href="arabic-translation.html#cb43-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Arabic Titles</span></span>
<span id="cb43-15"><a href="arabic-translation.html#cb43-15" aria-hidden="true" tabindex="-1"></a>title <span class="ot">=</span> stringr<span class="sc">::</span><span class="fu">str_wrap</span>(</span>
<span id="cb43-16"><a href="arabic-translation.html#cb43-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">title_function</span>(<span class="cn">TRUE</span>,</span>
<span id="cb43-17"><a href="arabic-translation.html#cb43-17" aria-hidden="true" tabindex="-1"></a>                 <span class="st">&quot;Q601_3&quot;</span>,</span>
<span id="cb43-18"><a href="arabic-translation.html#cb43-18" aria-hidden="true" tabindex="-1"></a>                 <span class="st">&quot;Arabic&quot;</span>,</span>
<span id="cb43-19"><a href="arabic-translation.html#cb43-19" aria-hidden="true" tabindex="-1"></a>                 <span class="st">&quot;comparative&quot;</span>),</span>
<span id="cb43-20"><a href="arabic-translation.html#cb43-20" aria-hidden="true" tabindex="-1"></a>  <span class="dv">60</span>),</span>
<span id="cb43-21"><a href="arabic-translation.html#cb43-21" aria-hidden="true" tabindex="-1"></a>subtitle <span class="ot">=</span> <span class="fu">subtitle_function</span>(<span class="cn">TRUE</span>,</span>
<span id="cb43-22"><a href="arabic-translation.html#cb43-22" aria-hidden="true" tabindex="-1"></a>                             <span class="st">&quot;Q601_3&quot;</span>,</span>
<span id="cb43-23"><a href="arabic-translation.html#cb43-23" aria-hidden="true" tabindex="-1"></a>                             <span class="st">&quot;Arabic&quot;</span>,</span>
<span id="cb43-24"><a href="arabic-translation.html#cb43-24" aria-hidden="true" tabindex="-1"></a>                             <span class="st">&quot;comparative&quot;</span>),</span>
<span id="cb43-25"><a href="arabic-translation.html#cb43-25" aria-hidden="true" tabindex="-1"></a>caption <span class="ot">=</span> <span class="st">&quot;الباروميتر العربي&quot;</span></span></code></pre></div>
<p>Of course, this is only if you want to use a “pre-made” title. If you are coming up with your own title, you do not have to use the title and subtitle functions.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="arabic-translation.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Arabic Titles</span></span>
<span id="cb44-2"><a href="arabic-translation.html#cb44-2" aria-hidden="true" tabindex="-1"></a>title <span class="ot">=</span> stringr<span class="sc">::</span><span class="fu">str_wrap</span>(</span>
<span id="cb44-3"><a href="arabic-translation.html#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;الرجال أفضل في تولي القيادة السياسية من النساء&quot;</span>,</span>
<span id="cb44-4"><a href="arabic-translation.html#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="dv">50</span>),</span>
<span id="cb44-5"><a href="arabic-translation.html#cb44-5" aria-hidden="true" tabindex="-1"></a>subtitle <span class="ot">=</span> <span class="st">&quot;% من يقولون أتفق بشدة أو أتفق مع هذه العبارة&quot;</span>,</span>
<span id="cb44-6"><a href="arabic-translation.html#cb44-6" aria-hidden="true" tabindex="-1"></a>caption <span class="ot">=</span> <span class="st">&quot;الباروميتر العربي&quot;</span></span></code></pre></div>
</div>
<div id="right-to-left" class="section level4 unnumbered hasAnchor">
<h4>Right to Left<a href="arabic-translation.html#right-to-left" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Arabic graphs are read right to left, so the x- and y-axis labels must be reflected.</p>
<p>To change the direction of the x-axis, we must change line 36.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="arabic-translation.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># English x-axis</span></span>
<span id="cb45-2"><a href="arabic-translation.html#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">100</span>))</span>
<span id="cb45-3"><a href="arabic-translation.html#cb45-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-4"><a href="arabic-translation.html#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Arabic x-axis</span></span>
<span id="cb45-5"><a href="arabic-translation.html#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_x_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">100</span>,<span class="dv">0</span>))</span></code></pre></div>
<p>To change the y-axis labels, we need to add a line.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="arabic-translation.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Arabic y-axis</span></span>
<span id="cb46-2"><a href="arabic-translation.html#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_y_discrete</span>(<span class="at">position =</span> <span class="st">&quot;right&quot;</span>)</span></code></pre></div>
</div>
<div id="point-labels" class="section level4 unnumbered hasAnchor">
<h4>Point Labels<a href="arabic-translation.html#point-labels" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A subtle change in English to Arabic graphs it the font. The AB brand font for English is Montserrat, and the brand font for Arabic is Tajawal. While the font for the text is controlled by the theme (discussed in the following section), the labels on the graph are separate. The code defining the labels on the graph is found on lines 28-33.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="arabic-translation.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># English</span></span>
<span id="cb47-2"><a href="arabic-translation.html#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">ifelse</span>(Q601_3 <span class="sc">==</span> <span class="dv">0</span>, <span class="st">&quot;&lt;1&quot;</span>, Q601_3),</span>
<span id="cb47-3"><a href="arabic-translation.html#cb47-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">family =</span> <span class="st">&#39;Montserrat&#39;</span>),</span>
<span id="cb47-4"><a href="arabic-translation.html#cb47-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb47-5"><a href="arabic-translation.html#cb47-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">fontface =</span> <span class="st">&quot;bold&quot;</span>,</span>
<span id="cb47-6"><a href="arabic-translation.html#cb47-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="dv">4</span>,</span>
<span id="cb47-7"><a href="arabic-translation.html#cb47-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="dv">1</span>))</span>
<span id="cb47-8"><a href="arabic-translation.html#cb47-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-9"><a href="arabic-translation.html#cb47-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Arabic</span></span>
<span id="cb47-10"><a href="arabic-translation.html#cb47-10" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">ifelse</span>(Q601_3 <span class="sc">==</span> <span class="dv">0</span>, <span class="st">&quot;1&gt;&quot;</span>, Q601_3),</span>
<span id="cb47-11"><a href="arabic-translation.html#cb47-11" aria-hidden="true" tabindex="-1"></a>                <span class="at">family =</span> <span class="st">&#39;Tajawal&#39;</span>),</span>
<span id="cb47-12"><a href="arabic-translation.html#cb47-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb47-13"><a href="arabic-translation.html#cb47-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">fontface =</span> <span class="st">&quot;bold&quot;</span>,</span>
<span id="cb47-14"><a href="arabic-translation.html#cb47-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="dv">4</span>,</span>
<span id="cb47-15"><a href="arabic-translation.html#cb47-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="dv">1</span>))</span></code></pre></div>
<p>Aside from changing the font, the direction of the “less than” sign is also changed.</p>
</div>
<div id="arabic-theme" class="section level4 unnumbered hasAnchor">
<h4>Arabic Theme<a href="arabic-translation.html#arabic-theme" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Finally, the <code>ArabBarometR</code> package provides separate ggplot themes for English and Arabic graphs. The theme controls the font, size, and placement of title elements. See line 54.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="arabic-translation.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># English</span></span>
<span id="cb48-2"><a href="arabic-translation.html#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_ab_english</span>()</span>
<span id="cb48-3"><a href="arabic-translation.html#cb48-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-4"><a href="arabic-translation.html#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Arabic</span></span>
<span id="cb48-5"><a href="arabic-translation.html#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_ab_arabic</span>()</span></code></pre></div>
<p>With that, we can translate the graph.</p>
</div>
</div>
<div id="translated-graph" class="section level3 hasAnchor" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> Translated Graph<a href="arabic-translation.html#translated-graph" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="arabic-translation.html#cb49-1" aria-hidden="true" tabindex="-1"></a>Q6013_trend <span class="sc">%&gt;%</span> </span>
<span id="cb49-2"><a href="arabic-translation.html#cb49-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-3"><a href="arabic-translation.html#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ggplot base</span></span>
<span id="cb49-4"><a href="arabic-translation.html#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Q601_3, <span class="at">y =</span> <span class="fu">reorder</span>(Country,Q601_3))) <span class="sc">+</span></span>
<span id="cb49-5"><a href="arabic-translation.html#cb49-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-6"><a href="arabic-translation.html#cb49-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ggplot line for connecting the points</span></span>
<span id="cb49-7"><a href="arabic-translation.html#cb49-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> Country),</span>
<span id="cb49-8"><a href="arabic-translation.html#cb49-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">&quot;#545454&quot;</span>) <span class="sc">+</span></span>
<span id="cb49-9"><a href="arabic-translation.html#cb49-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-10"><a href="arabic-translation.html#cb49-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ggplot arrow pointing in the direction of change</span></span>
<span id="cb49-11"><a href="arabic-translation.html#cb49-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">data =</span> <span class="sc">~</span><span class="fu">subset</span>(.x, Wave <span class="sc">==</span> <span class="st">&quot;I&quot;</span><span class="sc">|</span>Wave <span class="sc">==</span> <span class="st">&quot;II&quot;</span>), </span>
<span id="cb49-12"><a href="arabic-translation.html#cb49-12" aria-hidden="true" tabindex="-1"></a>               <span class="fu">aes</span>(</span>
<span id="cb49-13"><a href="arabic-translation.html#cb49-13" aria-hidden="true" tabindex="-1"></a>                 <span class="at">x =</span> midpoint,</span>
<span id="cb49-14"><a href="arabic-translation.html#cb49-14" aria-hidden="true" tabindex="-1"></a>                 <span class="at">xend =</span> midpoint <span class="sc">+</span> .<span class="dv">5</span> <span class="sc">*</span> <span class="fu">sign</span>(midpoint <span class="sc">-</span> Q601_3), </span>
<span id="cb49-15"><a href="arabic-translation.html#cb49-15" aria-hidden="true" tabindex="-1"></a>                 <span class="at">yend =</span> Country), </span>
<span id="cb49-16"><a href="arabic-translation.html#cb49-16" aria-hidden="true" tabindex="-1"></a>               <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">angle =</span> <span class="dv">30</span>, <span class="at">length =</span> <span class="fu">unit</span>(.<span class="dv">1</span>, <span class="st">&quot;inches&quot;</span>), <span class="at">type =</span> <span class="st">&quot;closed&quot;</span>), </span>
<span id="cb49-17"><a href="arabic-translation.html#cb49-17" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> <span class="st">&quot;#545454&quot;</span>) <span class="sc">+</span></span>
<span id="cb49-18"><a href="arabic-translation.html#cb49-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-19"><a href="arabic-translation.html#cb49-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ggplot points</span></span>
<span id="cb49-20"><a href="arabic-translation.html#cb49-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Wave),</span>
<span id="cb49-21"><a href="arabic-translation.html#cb49-21" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb49-22"><a href="arabic-translation.html#cb49-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-23"><a href="arabic-translation.html#cb49-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># setting the colors of the points</span></span>
<span id="cb49-24"><a href="arabic-translation.html#cb49-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;#0098BE&quot;</span>,<span class="st">&quot;#7CBBC7&quot;</span>,<span class="st">&quot;#DF6E21&quot;</span>))<span class="sc">+</span></span>
<span id="cb49-25"><a href="arabic-translation.html#cb49-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-26"><a href="arabic-translation.html#cb49-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># adding the percent value to the points</span></span>
<span id="cb49-27"><a href="arabic-translation.html#cb49-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">ifelse</span>(Q601_3 <span class="sc">==</span> <span class="dv">0</span>, <span class="st">&quot;1&gt;&quot;</span>, Q601_3),</span>
<span id="cb49-28"><a href="arabic-translation.html#cb49-28" aria-hidden="true" tabindex="-1"></a>                <span class="at">family =</span> <span class="st">&#39;Tajawal&#39;</span>),</span>
<span id="cb49-29"><a href="arabic-translation.html#cb49-29" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb49-30"><a href="arabic-translation.html#cb49-30" aria-hidden="true" tabindex="-1"></a>            <span class="at">fontface =</span> <span class="st">&quot;bold&quot;</span>,</span>
<span id="cb49-31"><a href="arabic-translation.html#cb49-31" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="dv">4</span>,</span>
<span id="cb49-32"><a href="arabic-translation.html#cb49-32" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb49-33"><a href="arabic-translation.html#cb49-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-34"><a href="arabic-translation.html#cb49-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># showing the whole scale from 0 to 100</span></span>
<span id="cb49-35"><a href="arabic-translation.html#cb49-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">100</span>,<span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb49-36"><a href="arabic-translation.html#cb49-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">position =</span> <span class="st">&quot;right&quot;</span>) <span class="sc">+</span></span>
<span id="cb49-37"><a href="arabic-translation.html#cb49-37" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-38"><a href="arabic-translation.html#cb49-38" aria-hidden="true" tabindex="-1"></a>  <span class="co"># adding a title and subtitle</span></span>
<span id="cb49-39"><a href="arabic-translation.html#cb49-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb49-40"><a href="arabic-translation.html#cb49-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> stringr<span class="sc">::</span><span class="fu">str_wrap</span>(</span>
<span id="cb49-41"><a href="arabic-translation.html#cb49-41" aria-hidden="true" tabindex="-1"></a>      arabic_title,</span>
<span id="cb49-42"><a href="arabic-translation.html#cb49-42" aria-hidden="true" tabindex="-1"></a>      <span class="dv">60</span>),</span>
<span id="cb49-43"><a href="arabic-translation.html#cb49-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> arabic_subtitle,</span>
<span id="cb49-44"><a href="arabic-translation.html#cb49-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;الباروميتر العربي&quot;</span></span>
<span id="cb49-45"><a href="arabic-translation.html#cb49-45" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb49-46"><a href="arabic-translation.html#cb49-46" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-47"><a href="arabic-translation.html#cb49-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ab_arabic</span>()</span></code></pre></div>
<p><img src="Translated_Arabic_Graph.png" width="1950" /></p>

</div>
</div>
</div>








<div class="footnotes">
<hr />
<ol start="3">
<li id="fn3"><p>A note on English graph prioritization: Creating graphs in English first (and English being the default in the <code>ArabBarometR</code> package) is useful because the proof-of-concept should address the easiest case first. Arabic graphs are trickier than English graphs. If we cannot create the graph in English, it is unlikely we will be able to create the graph in Arabic. This should not be seen as a preference for English graphs at Arab Barometer, rather as a consequence of R’s fundamental catering towards Western European culture.<a href="arabic-translation.html#fnref3" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="arabic-issues-package.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/Arab-Baromter/Common-Graph-Issues/edit/BRANCH/arabic-translation.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
